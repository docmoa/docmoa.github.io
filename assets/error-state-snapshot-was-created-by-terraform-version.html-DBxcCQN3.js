import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o as l,c as i,b as c,w as s,h as u,g as n,a}from"./app-DVMlqOhY.js";const d="/assets/terraform-state-version-error-t0bWLra2.png",m={},h=u('<h1 id="error-state-snapshot-was-created-by-terraform-vx-y-z" tabindex="-1"><a class="header-anchor" href="#error-state-snapshot-was-created-by-terraform-vx-y-z"><span>Error: state snapshot was created by Terraform vX.Y.Z</span></a></h1><table><thead><tr><th>Log</th></tr></thead><tbody><tr><td>Error: state snapshot was created by Terraform v0.13.2, which is newer than current v0.12.26; upgrade to Terraform v0.13.2 or greater to work with this state</td></tr></tbody></table><ul><li>버전관련 에러 메시지에 대해 몇가지 테스트 해본 결과, 상위버전으로 Terraform State가 생성 된 이후 하위 버전으로 Refresh/Plan/Apply 를 수행하는 경우에 발생하는 것으로 확인</li><li><code>terraform_remote_state</code> 는 버전에 관계 없이 워크스페이스 간에 output을 읽어올 수 있음을 확인</li></ul><h2 id="example" tabindex="-1"><a class="header-anchor" href="#example"><span>Example</span></a></h2><ul><li>0.12.x 로 생성된 state에서 0.13.x로 Refresh/Plan/Apply 수행 시 state의 버전이 업그레이드 됨</li><li>0.13.x 로 생성된 state에서 0.12.x로 Refresh/Plan/Apply 수행 시 동일한 에러 발생<br><img src="'+d+`" alt="" loading="lazy"></li><li>0.13.x로 생성된 state를 &quot;terraform_remote_state&quot;로 다른 0.12.x인 워크스페이스에서 읽어오는 경우 정상적으로 동작</li></ul><p>따라서, 관련 에러가 발생한 워크스페이스의 설정에서 최종적으로 생서된 state의 버전과 동일한 실행 버전인지 확인이 필요하다. (아래 캡쳐와 같이 State 버전이 설정의 Terraform Version 보다 높은 경우 에러 발생)</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line highlighted">  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;terraform_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.13.7&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;serial&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;lineage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;83b1b4d5-826a-ecc9-ce4a-ea41f06f93af&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;outputs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;uuid_from_0_13&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;34ee63e3-860b-1a1b-c0fa-1546f922be5a-0.12&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;resources&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;terraform_remote_state&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v0_13&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;provider[\\&quot;terraform.io/builtin/terraform\\&quot;]&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;instances&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        </span>
<span class="line">      <span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),v=a("div",{class:"language-bash","data-highlighter":"prismjs","data-ext":"sh","data-title":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"line"},"$ terraform version"),n(`
`),a("span",{class:"line"},"Terraform v0.12.31"),n(`
`),a("span",{class:"line"})])])],-1);function b(k,f){const r=p("CodeTabs");return l(),i("div",null,[h,c(r,{id:"55",data:[{id:"CLI"},{id:"TFC/TFE"}],"tab-id":"shell"},{title0:s(({value:e,isActive:t})=>[n("CLI")]),title1:s(({value:e,isActive:t})=>[n("TFC/TFE")]),tab0:s(({value:e,isActive:t})=>[v]),tab1:s(({value:e,isActive:t})=>[]),_:1})])}const q=o(m,[["render",b],["__file","error-state-snapshot-was-created-by-terraform-version.html.vue"]]),_=JSON.parse('{"path":"/04-HashiCorp/03-Terraform/04-TroubleShooting/error-state-snapshot-was-created-by-terraform-version.html","title":"Error: state snapshot was created by Terraform vX.Y.Z","lang":"ko-KR","frontmatter":{"description":"Terraform Azure AdminUsername Error","tag":["Terraform","Azure"],"head":[["meta",{"property":"og:url","content":"https://docmoa.github.io/04-HashiCorp/03-Terraform/04-TroubleShooting/error-state-snapshot-was-created-by-terraform-version.html"}],["meta",{"property":"og:site_name","content":"docmoa"}],["meta",{"property":"og:title","content":"Error: state snapshot was created by Terraform vX.Y.Z"}],["meta",{"property":"og:description","content":"Terraform Azure AdminUsername Error"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2023-09-20T02:21:13.000Z"}],["meta",{"property":"article:tag","content":"Terraform"}],["meta",{"property":"article:tag","content":"Azure"}],["meta",{"property":"article:modified_time","content":"2023-09-20T02:21:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Error: state snapshot was created by Terraform vX.Y.Z\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-09-20T02:21:13.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Example","slug":"example","link":"#example","children":[]}],"git":{"createdTime":1695176473000,"updatedTime":1695176473000,"contributors":[{"name":"Great-Stone","email":"hahohh@gmail.com","commits":1}]},"readingTime":{"minutes":2.02,"words":121},"filePathRelative":"04-HashiCorp/03-Terraform/04-TroubleShooting/error-state-snapshot-was-created-by-terraform-version.md","localizedDate":"2023년 9월 20일","excerpt":"\\n<table>\\n<thead>\\n<tr>\\n<th>Log</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>Error: state snapshot was created by Terraform v0.13.2, which is newer than current v0.12.26; upgrade to Terraform v0.13.2 or greater to work with this state</td>\\n</tr>\\n</tbody>\\n</table>\\n<ul>\\n<li>버전관련 에러 메시지에 대해 몇가지 테스트 해본 결과, 상위버전으로 Terraform State가 생성 된 이후 하위 버전으로  Refresh/Plan/Apply 를 수행하는 경우에 발생하는 것으로 확인</li>\\n<li><code>terraform_remote_state</code> 는 버전에 관계 없이 워크스페이스 간에 output을 읽어올 수 있음을 확인</li>\\n</ul>"}');export{q as comp,_ as data};
