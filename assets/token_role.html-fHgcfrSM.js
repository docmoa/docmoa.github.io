import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as n,c as a,h as e}from"./app-DVMlqOhY.js";const l={},p=e(`<h1 id="token-role" tabindex="-1"><a class="header-anchor" href="#token-role"><span>Token Role</span></a></h1><p>별도 Auth Method를 사용하지 않고 Token으로만 사용하는 경우 Token에 대한 role을 생성하여 해당 role의 정의된 설정에 종속된 Token을 생성할 수 있음</p><ul><li>Entity가 발생하므로 Vault Client Count 절약 가능</li><li>일관된 Token 생성 가능</li><li>Token에 대한 별도 Tune(TTL 조정 등) 가능</li></ul><h2 id="절차" tabindex="-1"><a class="header-anchor" href="#절차"><span>절차</span></a></h2><ol><li><p>UI &gt; Access &gt; Entities &gt; [create entity] : <code>100y-entity</code></p></li><li><p>entity에서 aliases 생성 : <code>100y-alias</code></p></li><li><p>role 생성 (payload.json)</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;allowed_policies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&quot;my-policy&quot;</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100y&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;orphan&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;bound_cidrs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;127.0.0.1/32&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;128.252.0.0/16&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;renewable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;allowed_entity_aliases&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;100y-alias&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>role 적용</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;X-Vault-Token: hvs.QKRiVmCedA06dCSc2TptmSk1&quot;</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">--data</span> @payload.json http://127.0.0.1:8200/v1/auth/token/roles/100y</span>
<span class="line"></span></code></pre></div></li><li><p>role에 대한 사용자 정의 tune 적용(옵션)</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">vault auth tune -max-lease-ttl<span class="token operator">=</span>876000h token/role/100y</span>
<span class="line">vault auth tune -default-lease-ttl<span class="token operator">=</span>876000h token/role/100y</span>
<span class="line"></span></code></pre></div></li><li><p>tune 적용된 role 확인</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">$ vault <span class="token builtin class-name">read</span> auth/token/roles/100y</span>
<span class="line"></span>
<span class="line">Key                         Value</span>
<span class="line">---                         -----</span>
<span class="line">allowed_entity_aliases      <span class="token punctuation">[</span>100y-alias<span class="token punctuation">]</span></span>
<span class="line">allowed_policies            <span class="token punctuation">[</span>default<span class="token punctuation">]</span></span>
<span class="line">allowed_policies_glob       <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">bound_cidrs                 <span class="token punctuation">[</span><span class="token number">127.0</span>.0.1 <span class="token number">128.252</span>.0.0/16<span class="token punctuation">]</span></span>
<span class="line">disallowed_policies         <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">disallowed_policies_glob    <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">explicit_max_ttl            0s</span>
<span class="line">name                        100y</span>
<span class="line">orphan                      <span class="token boolean">false</span></span>
<span class="line">path_suffix                 n/a</span>
<span class="line">period                      0s</span>
<span class="line">renewable                   <span class="token boolean">true</span></span>
<span class="line">token_bound_cidrs           <span class="token punctuation">[</span><span class="token number">127.0</span>.0.1 <span class="token number">128.252</span>.0.0/16<span class="token punctuation">]</span></span>
<span class="line">token_explicit_max_ttl      0s</span>
<span class="line">token_no_default_policy     <span class="token boolean">false</span></span>
<span class="line">token_period                0s</span>
<span class="line">token_type                  default-service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>token 생성</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">$ vault token create -entity-alias<span class="token operator">=</span>100y-alias <span class="token parameter variable">-role</span><span class="token operator">=</span>100y</span>
<span class="line">Key                  Value</span>
<span class="line">---                  -----</span>
<span class="line">token                hvs.CAESIIveQyE34VOowkCXj4InopxsQHWXu2iW00UQDDCTb-pIGh4KHGh2cy5UZGJ4MjJic1RjY1BlVGRWVHhzNFgwWW4</span>
<span class="line">token_accessor       Cx6qjyUGwqPmqoPNe9tmkCiN</span>
<span class="line">token_duration       876000h</span>
<span class="line">token_renewable      <span class="token boolean">true</span></span>
<span class="line">token_policies       <span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span></span>
<span class="line">identity_policies    <span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span></span>
<span class="line">policies             <span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>token이 role의 구성이 반영되었는지 확인</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">$ vault token lookup hvs.CAESIIveQyE34VOowkCXj4InopxsQHWXu2iW00UQDDCTb-pIGh4KHGh2cy5UZGJ4MjJic1RjY1BlVGRWVHhzNFgwWW4</span>
<span class="line"></span>
<span class="line">Key                            Value</span>
<span class="line">---                            -----</span>
<span class="line">accessor                       Cx6qjyUGwqPmqoPNe9tmkCiN</span>
<span class="line">bound_cidrs                    <span class="token punctuation">[</span><span class="token number">127.0</span>.0.1 <span class="token number">128.252</span>.0.0/16<span class="token punctuation">]</span></span>
<span class="line">creation_time                  <span class="token number">1651059486</span></span>
<span class="line">creation_ttl                   876000h</span>
<span class="line">display_name                   token</span>
<span class="line">entity_id                      53fc4716-fc0d-db34-14b8-ab4258f89fb1</span>
<span class="line">expire_time                    <span class="token number">2122</span>-04-03T20:38:06.73198+09:00</span>
<span class="line">explicit_max_ttl               0s</span>
<span class="line">external_namespace_policies    map<span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token function">id</span>                             hvs.CAESIIveQyE34VOowkCXj4InopxsQHWXu2iW00UQDDCTb-pIGh4KHGh2cy5UZGJ4MjJic1RjY1BlVGRWVHhzNFgwWW4</span>
<span class="line">identity_policies              <span class="token punctuation">[</span>default<span class="token punctuation">]</span></span>
<span class="line">issue_time                     <span class="token number">2022</span>-04-27T20:38:06.731984+09:00</span>
<span class="line">meta                           <span class="token operator">&lt;</span>nil<span class="token operator">&gt;</span></span>
<span class="line">num_uses                       <span class="token number">0</span></span>
<span class="line">orphan                         <span class="token boolean">false</span></span>
<span class="line">path                           auth/token/create/100y</span>
<span class="line">policies                       <span class="token punctuation">[</span>default<span class="token punctuation">]</span></span>
<span class="line">renewable                      <span class="token boolean">true</span></span>
<span class="line">role                           100y</span>
<span class="line">ttl                            875999h59m3s</span>
<span class="line"><span class="token builtin class-name">type</span>                           <span class="token function">service</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="entity-구성-cli-예제-옵션" tabindex="-1"><a class="header-anchor" href="#entity-구성-cli-예제-옵션"><span>Entity 구성 CLI 예제 (옵션)</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">vault auth list <span class="token parameter variable">-format</span><span class="token operator">=</span>json <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">&#39;.[&quot;token/&quot;].accessor&#39;</span> <span class="token operator">&gt;</span> accessor_token.txt</span>
<span class="line"></span>
<span class="line">vault <span class="token function">write</span> <span class="token parameter variable">-format</span><span class="token operator">=</span>json identity/entity <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;100y-entity&quot;</span> <span class="token assign-left variable">policies</span><span class="token operator">=</span><span class="token string">&quot;default&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">     <span class="token assign-left variable">metadata</span><span class="token operator">=</span>organization<span class="token operator">=</span><span class="token string">&quot;HC&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">     <span class="token assign-left variable">metadata</span><span class="token operator">=</span>team<span class="token operator">=</span><span class="token string">&quot;QA&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">     <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">&quot;.data.id&quot;</span> <span class="token operator">&gt;</span> entity_id.txt</span>
<span class="line">     </span>
<span class="line">vault <span class="token function">write</span> identity/entity-alias <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;100y-alias&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">     <span class="token assign-left variable">canonical_id</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> entity_id.txt<span class="token variable">)</span></span> <span class="token punctuation">\\</span></span>
<span class="line">     <span class="token assign-left variable">mount_accessor</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> accessor_token.txt<span class="token variable">)</span></span> <span class="token punctuation">\\</span></span>
<span class="line">     <span class="token assign-left variable">custom_metadata</span><span class="token operator">=</span>account<span class="token operator">=</span><span class="token string">&quot;QA Account&quot;</span></span>
<span class="line">     </span>
<span class="line">vault <span class="token function">write</span> auth/token/roles/100y <span class="token assign-left variable">allowed_policies</span><span class="token operator">=</span><span class="token string">&quot;super-user&quot;</span> <span class="token assign-left variable">orphan</span><span class="token operator">=</span>false <span class="token assign-left variable">bound_cidrs</span><span class="token operator">=</span><span class="token string">&quot;127.0.0.1/32,128.252.0.0/16&quot;</span> <span class="token assign-left variable">renewable</span><span class="token operator">=</span>true <span class="token assign-left variable">allowed_entity_aliases</span><span class="token operator">=</span><span class="token string">&quot;100y-alias&quot;</span> <span class="token assign-left variable">token_period</span><span class="token operator">=</span><span class="token string">&quot;876000h&quot;</span></span>
<span class="line"></span>
<span class="line">vault auth tune -max-lease-ttl<span class="token operator">=</span>876000h token/role/100y</span>
<span class="line"></span>
<span class="line">vault auth tune -default-lease-ttl<span class="token operator">=</span>876000h token/role/100y</span>
<span class="line"></span>
<span class="line">vault token create -entity-alias<span class="token operator">=</span>100y-alias <span class="token parameter variable">-role</span><span class="token operator">=</span>100y</span>
<span class="line">Key                  Value</span>
<span class="line">---                  -----</span>
<span class="line">token                hvs.CAESIDv-SKwwf3MS-CAutW7aQgAZRBjh01lYLeriuSYzYIwfGiEKHGh2cy50cXFIYVhneDBVYU1OT1hXbWc3WHdtbzUQsgU</span>
<span class="line">token_accessor       TAAPfxaUX1nx64ZqrLPa1VHx</span>
<span class="line">token_duration       876000h</span>
<span class="line">token_renewable      <span class="token boolean">true</span></span>
<span class="line">token_policies       <span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span> <span class="token string">&quot;super-user&quot;</span><span class="token punctuation">]</span></span>
<span class="line">identity_policies    <span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span></span>
<span class="line">policies             <span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span> <span class="token string">&quot;super-user&quot;</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),t=[p];function i(o,c){return n(),a("div",null,t)}const d=s(l,[["render",i],["__file","token_role.html.vue"]]),k=JSON.parse('{"path":"/04-HashiCorp/06-Vault/03-Auth_Method/token_role.html","title":"Token Role","lang":"ko-KR","frontmatter":{"description":"Token Role 생성 및 Tune 적용하여 장기 유지되는 Token 생성하기","tag":["vault auth"],"head":[["meta",{"property":"og:url","content":"https://docmoa.github.io/04-HashiCorp/06-Vault/03-Auth_Method/token_role.html"}],["meta",{"property":"og:site_name","content":"docmoa"}],["meta",{"property":"og:title","content":"Token Role"}],["meta",{"property":"og:description","content":"Token Role 생성 및 Tune 적용하여 장기 유지되는 Token 생성하기"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2023-09-18T13:12:54.000Z"}],["meta",{"property":"article:tag","content":"vault auth"}],["meta",{"property":"article:modified_time","content":"2023-09-18T13:12:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Token Role\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-09-18T13:12:54.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"절차","slug":"절차","link":"#절차","children":[]},{"level":2,"title":"Entity 구성 CLI 예제 (옵션)","slug":"entity-구성-cli-예제-옵션","link":"#entity-구성-cli-예제-옵션","children":[]}],"git":{"createdTime":1651059687000,"updatedTime":1695042774000,"contributors":[{"name":"Great-Stone","email":"hahohh@gmail.com","commits":2},{"name":"Administrator","email":"admin@example.com","commits":1}]},"readingTime":{"minutes":5.88,"words":353},"filePathRelative":"04-HashiCorp/06-Vault/03-Auth_Method/token_role.md","localizedDate":"2022년 4월 27일","excerpt":"\\n<p>별도 Auth Method를 사용하지 않고 Token으로만 사용하는 경우 Token에 대한 role을 생성하여 해당 role의 정의된 설정에 종속된 Token을 생성할 수 있음</p>\\n<ul>\\n<li>Entity가 발생하므로 Vault Client Count 절약 가능</li>\\n<li>일관된 Token 생성 가능</li>\\n<li>Token에 대한 별도 Tune(TTL 조정 등) 가능</li>\\n</ul>\\n<h2>절차</h2>\\n<ol>\\n<li>\\n<p>UI &gt; Access &gt; Entities &gt; [create entity] : <code>100y-entity</code></p>\\n</li>\\n<li>\\n<p>entity에서 aliases 생성 : <code>100y-alias</code></p>\\n</li>\\n<li>\\n<p>role 생성 (payload.json)</p>\\n<div class=\\"language-json\\" data-highlighter=\\"prismjs\\" data-ext=\\"json\\" data-title=\\"json\\"><pre class=\\"language-json\\"><code><span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">\\"allowed_policies\\"</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span></span>\\n<span class=\\"line\\">    <span class=\\"token string\\">\\"my-policy\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">\\"name\\"</span><span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"100y\\"</span><span class=\\"token punctuation\\">,</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">\\"orphan\\"</span><span class=\\"token operator\\">:</span> <span class=\\"token boolean\\">false</span><span class=\\"token punctuation\\">,</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">\\"bound_cidrs\\"</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"127.0.0.1/32\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"128.252.0.0/16\\"</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">\\"renewable\\"</span><span class=\\"token operator\\">:</span> <span class=\\"token boolean\\">true</span><span class=\\"token punctuation\\">,</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">\\"allowed_entity_aliases\\"</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"100y-alias\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span></code></pre></div></li>\\n<li>\\n<p>role 적용</p>\\n<div class=\\"language-bash\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"line\\"><span class=\\"token function\\">curl</span> <span class=\\"token parameter variable\\">-H</span> <span class=\\"token string\\">\\"X-Vault-Token: hvs.QKRiVmCedA06dCSc2TptmSk1\\"</span> <span class=\\"token parameter variable\\">-X</span> POST <span class=\\"token parameter variable\\">--data</span> @payload.json http://127.0.0.1:8200/v1/auth/token/roles/100y</span>\\n<span class=\\"line\\"></span></code></pre></div></li>\\n<li>\\n<p>role에 대한 사용자 정의 tune 적용(옵션)</p>\\n<div class=\\"language-bash\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"line\\">vault auth tune -max-lease-ttl<span class=\\"token operator\\">=</span>876000h token/role/100y</span>\\n<span class=\\"line\\">vault auth tune -default-lease-ttl<span class=\\"token operator\\">=</span>876000h token/role/100y</span>\\n<span class=\\"line\\"></span></code></pre></div></li>\\n<li>\\n<p>tune 적용된 role 확인</p>\\n<div class=\\"language-bash\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"line\\">$ vault <span class=\\"token builtin class-name\\">read</span> auth/token/roles/100y</span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">Key                         Value</span>\\n<span class=\\"line\\">---                         -----</span>\\n<span class=\\"line\\">allowed_entity_aliases      <span class=\\"token punctuation\\">[</span>100y-alias<span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">allowed_policies            <span class=\\"token punctuation\\">[</span>default<span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">allowed_policies_glob       <span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">bound_cidrs                 <span class=\\"token punctuation\\">[</span><span class=\\"token number\\">127.0</span>.0.1 <span class=\\"token number\\">128.252</span>.0.0/16<span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">disallowed_policies         <span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">disallowed_policies_glob    <span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">explicit_max_ttl            0s</span>\\n<span class=\\"line\\">name                        100y</span>\\n<span class=\\"line\\">orphan                      <span class=\\"token boolean\\">false</span></span>\\n<span class=\\"line\\">path_suffix                 n/a</span>\\n<span class=\\"line\\">period                      0s</span>\\n<span class=\\"line\\">renewable                   <span class=\\"token boolean\\">true</span></span>\\n<span class=\\"line\\">token_bound_cidrs           <span class=\\"token punctuation\\">[</span><span class=\\"token number\\">127.0</span>.0.1 <span class=\\"token number\\">128.252</span>.0.0/16<span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">token_explicit_max_ttl      0s</span>\\n<span class=\\"line\\">token_no_default_policy     <span class=\\"token boolean\\">false</span></span>\\n<span class=\\"line\\">token_period                0s</span>\\n<span class=\\"line\\">token_type                  default-service</span>\\n<span class=\\"line\\"></span></code></pre></div></li>\\n<li>\\n<p>token 생성</p>\\n<div class=\\"language-bash\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"line\\">$ vault token create -entity-alias<span class=\\"token operator\\">=</span>100y-alias <span class=\\"token parameter variable\\">-role</span><span class=\\"token operator\\">=</span>100y</span>\\n<span class=\\"line\\">Key                  Value</span>\\n<span class=\\"line\\">---                  -----</span>\\n<span class=\\"line\\">token                hvs.CAESIIveQyE34VOowkCXj4InopxsQHWXu2iW00UQDDCTb-pIGh4KHGh2cy5UZGJ4MjJic1RjY1BlVGRWVHhzNFgwWW4</span>\\n<span class=\\"line\\">token_accessor       Cx6qjyUGwqPmqoPNe9tmkCiN</span>\\n<span class=\\"line\\">token_duration       876000h</span>\\n<span class=\\"line\\">token_renewable      <span class=\\"token boolean\\">true</span></span>\\n<span class=\\"line\\">token_policies       <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"default\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">identity_policies    <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"default\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">policies             <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"default\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"></span></code></pre></div></li>\\n<li>\\n<p>token이 role의 구성이 반영되었는지 확인</p>\\n<div class=\\"language-bash\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"line\\">$ vault token lookup hvs.CAESIIveQyE34VOowkCXj4InopxsQHWXu2iW00UQDDCTb-pIGh4KHGh2cy5UZGJ4MjJic1RjY1BlVGRWVHhzNFgwWW4</span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">Key                            Value</span>\\n<span class=\\"line\\">---                            -----</span>\\n<span class=\\"line\\">accessor                       Cx6qjyUGwqPmqoPNe9tmkCiN</span>\\n<span class=\\"line\\">bound_cidrs                    <span class=\\"token punctuation\\">[</span><span class=\\"token number\\">127.0</span>.0.1 <span class=\\"token number\\">128.252</span>.0.0/16<span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">creation_time                  <span class=\\"token number\\">1651059486</span></span>\\n<span class=\\"line\\">creation_ttl                   876000h</span>\\n<span class=\\"line\\">display_name                   token</span>\\n<span class=\\"line\\">entity_id                      53fc4716-fc0d-db34-14b8-ab4258f89fb1</span>\\n<span class=\\"line\\">expire_time                    <span class=\\"token number\\">2122</span>-04-03T20:38:06.73198+09:00</span>\\n<span class=\\"line\\">explicit_max_ttl               0s</span>\\n<span class=\\"line\\">external_namespace_policies    map<span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"><span class=\\"token function\\">id</span>                             hvs.CAESIIveQyE34VOowkCXj4InopxsQHWXu2iW00UQDDCTb-pIGh4KHGh2cy5UZGJ4MjJic1RjY1BlVGRWVHhzNFgwWW4</span>\\n<span class=\\"line\\">identity_policies              <span class=\\"token punctuation\\">[</span>default<span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">issue_time                     <span class=\\"token number\\">2022</span>-04-27T20:38:06.731984+09:00</span>\\n<span class=\\"line\\">meta                           <span class=\\"token operator\\">&lt;</span>nil<span class=\\"token operator\\">&gt;</span></span>\\n<span class=\\"line\\">num_uses                       <span class=\\"token number\\">0</span></span>\\n<span class=\\"line\\">orphan                         <span class=\\"token boolean\\">false</span></span>\\n<span class=\\"line\\">path                           auth/token/create/100y</span>\\n<span class=\\"line\\">policies                       <span class=\\"token punctuation\\">[</span>default<span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">renewable                      <span class=\\"token boolean\\">true</span></span>\\n<span class=\\"line\\">role                           100y</span>\\n<span class=\\"line\\">ttl                            875999h59m3s</span>\\n<span class=\\"line\\"><span class=\\"token builtin class-name\\">type</span>                           <span class=\\"token function\\">service</span></span>\\n<span class=\\"line\\"></span></code></pre></div></li>\\n</ol>"}');export{d as comp,k as data};
