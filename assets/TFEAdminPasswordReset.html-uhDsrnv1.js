import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as n,h as t}from"./app-DVMlqOhY.js";const e={},p=t(`<h1 id="terraform-enterprise-사용자-비밀번호-변경" tabindex="-1"><a class="header-anchor" href="#terraform-enterprise-사용자-비밀번호-변경"><span>Terraform Enterprise 사용자 비밀번호 변경</span></a></h1><p>Terraform Enterprise를 사용할 때, UI(https://TFE_SERVER) 상으로 접속할 수 없는 상황에서 비밀번호 변경이 필요한 경우, 아래와 같이 작업할 수 있다.</p><h2 id="admin-계정의-경우" tabindex="-1"><a class="header-anchor" href="#admin-계정의-경우"><span>Admin 계정의 경우</span></a></h2><p>다음과 같이 수정 가능.</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># 이전 버전의 TFE</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> ptfe_atlas /usr/bin/init.sh /app/scripts/wait-for-token -- <span class="token function">bash</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-c</span> <span class="token string">&#39;cd /app &amp;&amp; ./bin/rails c&#39;</span></span>
<span class="line"><span class="token comment">## 수정 최신 버전의 TFE에서는 Container 이름이 변경됨 (2022.6.21)</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> tfe-atlas /usr/bin/init.sh /app/scripts/wait-for-token -- <span class="token function">bash</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-c</span> <span class="token string">&#39;cd /app &amp;&amp; ./bin/rails c&#39;</span></span>
<span class="line"></span></code></pre></div><div class="language-ruby" data-highlighter="prismjs" data-ext="rb" data-title="rb"><pre class="language-ruby"><code><span class="line">irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">050</span><span class="token operator">:</span><span class="token number">0</span><span class="token operator">&gt;</span> admin_user <span class="token operator">=</span> User<span class="token punctuation">.</span>find_by<span class="token punctuation">(</span><span class="token symbol">username</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">&quot;tfe-local-admin&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token operator">=&gt;</span> <span class="token comment">#&lt;User id: 33, email: &quot;tfe-local-admin@test.com&quot;, username: &quot;tfe-local-admin&quot;, is_admin: false, created_at: &quot;2020-06-24 05:12:12&quot;, updated_at: &quot;2020-07-01 09:12:25&quot;, suspended_at: nil, two_factor_delivery: nil, two_factor_sms_number: nil, two_factor_secret_key: nil, two_factor_recovery_index: 0, two_factor_recovery_secret_key: nil, two_factor_verified_at: nil, two_factor_enabled_at: nil, is_service_account: false, used_recovery_codes_encrypted: nil, last_auth_through_saml: nil, external_id: &quot;user-361SGA3yMg3P1nGT&quot;, accepted_terms_at: nil, accepted_privacy_policy_at: nil, invitation_token: nil, invitation_created_at: nil, is_cyborg: false, onboarding_status: nil&gt;</span></span>
<span class="line">irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">051</span><span class="token operator">:</span><span class="token number">0</span><span class="token operator">&gt;</span> admin_user<span class="token punctuation">.</span>password <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&#39;&lt;&lt;Password&gt;&gt;&#39;</span></span></span>
<span class="line"><span class="token operator">=&gt;</span> <span class="token string-literal"><span class="token string">&quot;&lt;&lt;Password&gt;&gt;&quot;</span></span></span>
<span class="line">irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">052</span><span class="token operator">:</span><span class="token number">0</span><span class="token operator">&gt;</span> admin_user<span class="token punctuation">.</span>password_confirmation <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&#39;&lt;&lt;Password&gt;&gt;&#39;</span></span></span>
<span class="line"><span class="token operator">=&gt;</span> <span class="token string-literal"><span class="token string">&quot;&lt;&lt;Password&gt;&gt;&quot;</span></span></span>
<span class="line">irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span><span class="token operator">:</span><span class="token number">053</span><span class="token operator">:</span><span class="token number">0</span><span class="token operator">&gt;</span> admin_user<span class="token punctuation">.</span>save</span>
<span class="line"><span class="token number">2020</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">32</span> <span class="token punctuation">[</span><span class="token constant">DEBUG</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token symbol">:msg</span><span class="token operator">=&gt;</span><span class="token string-literal"><span class="token string">&quot;SettingStorage::Postgres failed to look up setting &#39;basic.base_domain&#39;&quot;</span></span><span class="token punctuation">}</span></span>
<span class="line"><span class="token operator">=&gt;</span> <span class="token boolean">true</span></span>
<span class="line"></span></code></pre></div><h2 id="일반-사용자의-경우" tabindex="-1"><a class="header-anchor" href="#일반-사용자의-경우"><span>일반 사용자의 경우</span></a></h2><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">sudo</span> <span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> ptfe_atlas /usr/bin/init.sh /app/scripts/wait-for-token -- <span class="token function">bash</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-c</span> <span class="token string">&#39;cd /app &amp;&amp; ./bin/rails c&#39;</span></span>
<span class="line">user <span class="token operator">=</span> User.find_by<span class="token punctuation">(</span>email: <span class="token string">&quot;user@example.com&quot;</span><span class="token punctuation">)</span></span>
<span class="line">user.update<span class="token punctuation">(</span>:password <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;&lt;&lt;PASSWORD&gt;&gt;&#39;</span><span class="token punctuation">)</span></span>
<span class="line">user.save<span class="token operator">!</span></span>
<span class="line"></span></code></pre></div><h2 id="일반-사용자를-admin으로-승격이-필요할-때" tabindex="-1"><a class="header-anchor" href="#일반-사용자를-admin으로-승격이-필요할-때"><span>일반 사용자를 Admin으로 승격이 필요할 때</span></a></h2><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">sudo</span> <span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> ptfe_atlas /usr/bin/init.sh /app/scripts/wait-for-token -- <span class="token function">bash</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-c</span> <span class="token string">&#39;cd /app &amp;&amp; ./bin/rails c&#39;</span></span>
<span class="line">user <span class="token operator">=</span> User.find_by<span class="token punctuation">(</span>email: <span class="token string">&quot;user@example.com&quot;</span><span class="token punctuation">)</span></span>
<span class="line">user.update<span class="token punctuation">(</span>is_admin: <span class="token boolean">true</span><span class="token punctuation">)</span></span>
<span class="line">user.save<span class="token operator">!</span></span>
<span class="line"></span></code></pre></div>`,10),o=[p];function r(l,i){return s(),n("div",null,o)}const u=a(e,[["render",r],["__file","TFEAdminPasswordReset.html.vue"]]),d=JSON.parse(`{"path":"/04-HashiCorp/03-Terraform/02-Config/TFEAdminPasswordReset.html","title":"Terraform Enterprise 사용자 비밀번호 변경","lang":"ko-KR","frontmatter":{"description":"TFE Admin 사용자 비밀 번호 변경이 필요할 경우","author":"jsp","tag":["terraform","admin","password"],"head":[["meta",{"property":"og:url","content":"https://docmoa.github.io/04-HashiCorp/03-Terraform/02-Config/TFEAdminPasswordReset.html"}],["meta",{"property":"og:site_name","content":"docmoa"}],["meta",{"property":"og:title","content":"Terraform Enterprise 사용자 비밀번호 변경"}],["meta",{"property":"og:description","content":"TFE Admin 사용자 비밀 번호 변경이 필요할 경우"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2023-09-18T13:12:54.000Z"}],["meta",{"property":"article:author","content":"jsp"}],["meta",{"property":"article:tag","content":"terraform"}],["meta",{"property":"article:tag","content":"admin"}],["meta",{"property":"article:tag","content":"password"}],["meta",{"property":"article:modified_time","content":"2023-09-18T13:12:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Terraform Enterprise 사용자 비밀번호 변경\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-09-18T13:12:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"jsp\\"}]}"]]},"headers":[{"level":2,"title":"Admin 계정의 경우","slug":"admin-계정의-경우","link":"#admin-계정의-경우","children":[]},{"level":2,"title":"일반 사용자의 경우","slug":"일반-사용자의-경우","link":"#일반-사용자의-경우","children":[]},{"level":2,"title":"일반 사용자를 Admin으로 승격이 필요할 때","slug":"일반-사용자를-admin으로-승격이-필요할-때","link":"#일반-사용자를-admin으로-승격이-필요할-때","children":[]}],"git":{"createdTime":1631870131000,"updatedTime":1695042774000,"contributors":[{"name":"powhapki","email":"powhapki@gmail.com","commits":11},{"name":"Administrator","email":"admin@example.com","commits":1},{"name":"Great-Stone","email":"hahohh@gmail.com","commits":1}]},"readingTime":{"minutes":3.65,"words":219},"filePathRelative":"04-HashiCorp/03-Terraform/02-Config/TFEAdminPasswordReset.md","localizedDate":"2021년 9월 17일","excerpt":"\\n<p>Terraform Enterprise를 사용할 때, UI(https://TFE_SERVER) 상으로 접속할 수 없는 상황에서 비밀번호 변경이 필요한 경우, 아래와 같이 작업할 수 있다.</p>\\n<h2>Admin 계정의 경우</h2>\\n<p>다음과 같이 수정 가능.</p>\\n<div class=\\"language-bash\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"line\\"><span class=\\"token comment\\"># 이전 버전의 TFE</span></span>\\n<span class=\\"line\\"><span class=\\"token function\\">sudo</span> <span class=\\"token function\\">docker</span> <span class=\\"token builtin class-name\\">exec</span> <span class=\\"token parameter variable\\">-it</span> ptfe_atlas /usr/bin/init.sh /app/scripts/wait-for-token -- <span class=\\"token function\\">bash</span> <span class=\\"token parameter variable\\">-i</span> <span class=\\"token parameter variable\\">-c</span> <span class=\\"token string\\">'cd /app &amp;&amp; ./bin/rails c'</span></span>\\n<span class=\\"line\\"><span class=\\"token comment\\">## 수정 최신 버전의 TFE에서는 Container 이름이 변경됨 (2022.6.21)</span></span>\\n<span class=\\"line\\"><span class=\\"token function\\">sudo</span> <span class=\\"token function\\">docker</span> <span class=\\"token builtin class-name\\">exec</span> <span class=\\"token parameter variable\\">-it</span> tfe-atlas /usr/bin/init.sh /app/scripts/wait-for-token -- <span class=\\"token function\\">bash</span> <span class=\\"token parameter variable\\">-i</span> <span class=\\"token parameter variable\\">-c</span> <span class=\\"token string\\">'cd /app &amp;&amp; ./bin/rails c'</span></span>\\n<span class=\\"line\\"></span></code></pre></div>","copyright":{"author":"jsp"}}`);export{u as comp,d as data};
