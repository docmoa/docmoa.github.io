import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,h as p}from"./app-DVMlqOhY.js";const t={},e=p(`<h1 id="boundary-run-dev-mode-on-nomad-job" tabindex="-1"><a class="header-anchor" href="#boundary-run-dev-mode-on-nomad-job"><span>Boundary Run Dev Mode on Nomad Job</span></a></h1><h2 id="_1-job-sample" tabindex="-1"><a class="header-anchor" href="#_1-job-sample"><span>1. Job sample</span></a></h2><div class="language-hcl line-numbers-mode" data-highlighter="prismjs" data-ext="hcl" data-title="hcl"><pre class="language-hcl"><code><span class="line"><span class="token keyword">locals</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">version</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.8.1&quot;</span></span>
<span class="line">  <span class="token property">private_ip</span> <span class="token punctuation">=</span> <span class="token string">&quot;192.168.0.27&quot;</span></span>
<span class="line">  <span class="token property">public_ip</span> <span class="token punctuation">=</span> <span class="token string">&quot;11.129.13.30&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">job <span class="token string">&quot;boundary-dev&quot;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">type</span> <span class="token punctuation">=</span> <span class="token string">&quot;service&quot;</span></span>
<span class="line">  <span class="token property">datacenters</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;home&quot;</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token property">namespace</span> <span class="token punctuation">=</span> <span class="token string">&quot;boundary&quot;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">constraint</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">attribute</span> <span class="token punctuation">=</span> <span class="token string">&quot;<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span>attr<span class="token punctuation">.</span>os<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span>&quot;</span></span>
<span class="line">    <span class="token property">value</span>     <span class="token punctuation">=</span> <span class="token string">&quot;raspbian&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  group <span class="token string">&quot;dev&quot;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">count</span> <span class="token punctuation">=</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">ephemeral_disk</span> <span class="token punctuation">{</span> <span class="token property">sticky</span>  <span class="token punctuation">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">network</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">mode</span> <span class="token punctuation">=</span> <span class="token string">&quot;host&quot;</span></span>
<span class="line">      port <span class="token string">&quot;api&quot;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">static</span> <span class="token punctuation">=</span> <span class="token number">9200</span></span>
<span class="line">        <span class="token property">to</span> <span class="token punctuation">=</span> <span class="token number">9200</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      port <span class="token string">&quot;cluster&quot;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">static</span> <span class="token punctuation">=</span> <span class="token number">9201</span></span>
<span class="line">        <span class="token property">to</span> <span class="token punctuation">=</span> <span class="token number">9201</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      port <span class="token string">&quot;worker&quot;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">static</span> <span class="token punctuation">=</span> <span class="token number">9202</span></span>
<span class="line">        <span class="token property">to</span> <span class="token punctuation">=</span> <span class="token number">9202</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    task <span class="token string">&quot;dev&quot;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">driver</span> <span class="token punctuation">=</span> <span class="token string">&quot;raw_exec&quot;</span></span>
<span class="line"></span>
<span class="line">      <span class="token keyword">env</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">BOUNDARY_DEV_CONTROLLER_API_LISTEN_ADDRESS</span> <span class="token punctuation">=</span> local.private_ip</span>
<span class="line">        <span class="token property">BOUNDARY_DEV_CONTROLLER_CLUSTER_LISTEN_ADDRESS</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.0.0.0&quot;</span></span>
<span class="line">        <span class="token property">BOUNDARY_DEV_WORKER_PUBLIC_ADDRESS</span> <span class="token punctuation">=</span> local.public_ip</span>
<span class="line">        <span class="token property">BOUNDARY_DEV_WORKER_PROXY_LISTEN_ADDRESS</span> <span class="token punctuation">=</span> local.private_ip</span>
<span class="line">        <span class="token property">BOUNDARY_DEV_PASSWORD</span> <span class="token punctuation">=</span> <span class="token string">&quot;password&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">      <span class="token comment">// artifact {</span></span>
<span class="line">      <span class="token comment">//   source = &quot;https://releases.hashicorp.com/boundary/\${local.version}/boundary_\${local.version}_linux_arm.zip&quot;</span></span>
<span class="line">      <span class="token comment">// }</span></span>
<span class="line"></span>
<span class="line">      <span class="token keyword">config</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">command</span> <span class="token punctuation">=</span> <span class="token string">&quot;boundary&quot;</span></span>
<span class="line">        <span class="token property">args</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;dev&quot;</span><span class="token punctuation">]</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">      <span class="token keyword">resources</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">cpu</span>    <span class="token punctuation">=</span> <span class="token number">500</span></span>
<span class="line">        <span class="token property">memory</span> <span class="token punctuation">=</span> <span class="token number">500</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">      <span class="token keyword">service</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">&quot;boundary&quot;</span></span>
<span class="line">        <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;cluster&quot;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">        <span class="token property">port</span> <span class="token punctuation">=</span> <span class="token string">&quot;cluster&quot;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">check</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token property">type</span>  <span class="token punctuation">=</span> <span class="token string">&quot;tcp&quot;</span></span>
<span class="line">          <span class="token property">interval</span> <span class="token punctuation">=</span> <span class="token string">&quot;10s&quot;</span></span>
<span class="line">          <span class="token property">timeout</span>  <span class="token punctuation">=</span> <span class="token string">&quot;2s&quot;</span></span>
<span class="line">          <span class="token property">port</span>  <span class="token punctuation">=</span> <span class="token string">&quot;api&quot;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-env" tabindex="-1"><a class="header-anchor" href="#_2-env"><span>2. ENV</span></a></h2><ul><li>BOUNDARY_DEV_WORKER_PUBLIC_ADDRESS : Worker public ip config, (or <code>-worker-public-addr</code> flag)</li></ul>`,5),l=[e];function o(c,i){return s(),a("div",null,l)}const k=n(t,[["render",o],["__file","OnNomad-devmode.html.vue"]]),d=JSON.parse('{"path":"/04-HashiCorp/05-Boundary/01-Install/OnNomad-devmode.html","title":"Boundary Run Dev Mode on Nomad Job","lang":"ko-KR","frontmatter":{"description":"Boundary Dev Mode (Nomad)","tag":["Boundary","Install"],"head":[["meta",{"property":"og:url","content":"https://docmoa.github.io/04-HashiCorp/05-Boundary/01-Install/OnNomad-devmode.html"}],["meta",{"property":"og:site_name","content":"docmoa"}],["meta",{"property":"og:title","content":"Boundary Run Dev Mode on Nomad Job"}],["meta",{"property":"og:description","content":"Boundary Dev Mode (Nomad)"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2023-09-18T13:12:54.000Z"}],["meta",{"property":"article:tag","content":"Boundary"}],["meta",{"property":"article:tag","content":"Install"}],["meta",{"property":"article:modified_time","content":"2023-09-18T13:12:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Boundary Run Dev Mode on Nomad Job\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-09-18T13:12:54.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"1. Job sample","slug":"_1-job-sample","link":"#_1-job-sample","children":[]},{"level":2,"title":"2. ENV","slug":"_2-env","link":"#_2-env","children":[]}],"git":{"createdTime":1653031029000,"updatedTime":1695042774000,"contributors":[{"name":"Administrator","email":"admin@example.com","commits":1},{"name":"Great-Stone","email":"hahohh@gmail.com","commits":1}]},"readingTime":{"minutes":2.2,"words":132},"filePathRelative":"04-HashiCorp/05-Boundary/01-Install/OnNomad-devmode.md","localizedDate":"2022년 5월 20일","excerpt":"\\n<h2>1. Job sample</h2>\\n<div class=\\"language-hcl\\" data-highlighter=\\"prismjs\\" data-ext=\\"hcl\\" data-title=\\"hcl\\"><pre class=\\"language-hcl\\"><code><span class=\\"line\\"><span class=\\"token keyword\\">locals</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">version</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"0.8.1\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">private_ip</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"192.168.0.27\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">public_ip</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"11.129.13.30\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">job <span class=\\"token string\\">\\"boundary-dev\\"</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">type</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"service\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">datacenters</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"home\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">namespace</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"boundary\\"</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">  <span class=\\"token keyword\\">constraint</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">    <span class=\\"token property\\">attribute</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"<span class=\\"token interpolation\\"><span class=\\"token punctuation\\">$</span><span class=\\"token punctuation\\">{</span>attr<span class=\\"token punctuation\\">.</span>os<span class=\\"token punctuation\\">.</span>name<span class=\\"token punctuation\\">}</span></span>\\"</span></span>\\n<span class=\\"line\\">    <span class=\\"token property\\">value</span>     <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"raspbian\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">  group <span class=\\"token string\\">\\"dev\\"</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">    <span class=\\"token property\\">count</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">1</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">    <span class=\\"token keyword\\">ephemeral_disk</span> <span class=\\"token punctuation\\">{</span> <span class=\\"token property\\">sticky</span>  <span class=\\"token punctuation\\">=</span> <span class=\\"token boolean\\">true</span> <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">    <span class=\\"token keyword\\">network</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">      <span class=\\"token property\\">mode</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"host\\"</span></span>\\n<span class=\\"line\\">      port <span class=\\"token string\\">\\"api\\"</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">static</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">9200</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">to</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">9200</span></span>\\n<span class=\\"line\\">      <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\">      port <span class=\\"token string\\">\\"cluster\\"</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">static</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">9201</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">to</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">9201</span></span>\\n<span class=\\"line\\">      <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\">      port <span class=\\"token string\\">\\"worker\\"</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">static</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">9202</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">to</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">9202</span></span>\\n<span class=\\"line\\">      <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\">    <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">    task <span class=\\"token string\\">\\"dev\\"</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">      <span class=\\"token property\\">driver</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"raw_exec\\"</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">      <span class=\\"token keyword\\">env</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">BOUNDARY_DEV_CONTROLLER_API_LISTEN_ADDRESS</span> <span class=\\"token punctuation\\">=</span> local.private_ip</span>\\n<span class=\\"line\\">        <span class=\\"token property\\">BOUNDARY_DEV_CONTROLLER_CLUSTER_LISTEN_ADDRESS</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"0.0.0.0\\"</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">BOUNDARY_DEV_WORKER_PUBLIC_ADDRESS</span> <span class=\\"token punctuation\\">=</span> local.public_ip</span>\\n<span class=\\"line\\">        <span class=\\"token property\\">BOUNDARY_DEV_WORKER_PROXY_LISTEN_ADDRESS</span> <span class=\\"token punctuation\\">=</span> local.private_ip</span>\\n<span class=\\"line\\">        <span class=\\"token property\\">BOUNDARY_DEV_PASSWORD</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"password\\"</span></span>\\n<span class=\\"line\\">      <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">      <span class=\\"token comment\\">// artifact {</span></span>\\n<span class=\\"line\\">      <span class=\\"token comment\\">//   source = \\"https://releases.hashicorp.com/boundary/${local.version}/boundary_${local.version}_linux_arm.zip\\"</span></span>\\n<span class=\\"line\\">      <span class=\\"token comment\\">// }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">      <span class=\\"token keyword\\">config</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">command</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"boundary\\"</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">args</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"dev\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">      <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">      <span class=\\"token keyword\\">resources</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">cpu</span>    <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">500</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">memory</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">500</span></span>\\n<span class=\\"line\\">      <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">      <span class=\\"token keyword\\">service</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">name</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"boundary\\"</span></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">tags</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"cluster\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">        <span class=\\"token property\\">port</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"cluster\\"</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">        <span class=\\"token keyword\\">check</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">          <span class=\\"token property\\">type</span>  <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"tcp\\"</span></span>\\n<span class=\\"line\\">          <span class=\\"token property\\">interval</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"10s\\"</span></span>\\n<span class=\\"line\\">          <span class=\\"token property\\">timeout</span>  <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"2s\\"</span></span>\\n<span class=\\"line\\">          <span class=\\"token property\\">port</span>  <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"api\\"</span></span>\\n<span class=\\"line\\">        <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\">      <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\">    <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\">  <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span></code></pre></div>"}');export{k as comp,d as data};
