import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as n,c as a,h as p}from"./app-DVMlqOhY.js";const e={},t=p(`<h1 id="google-cloud-platform-packer-sample" tabindex="-1"><a class="header-anchor" href="#google-cloud-platform-packer-sample"><span>Google Cloud Platform Packer Sample</span></a></h1><h2 id="packer-pkr-hcl" tabindex="-1"><a class="header-anchor" href="#packer-pkr-hcl"><span>packer.pkr.hcl</span></a></h2><div class="language-hcl line-numbers-mode" data-highlighter="prismjs" data-ext="hcl" data-title="hcl"><pre class="language-hcl"><code><span class="line"><span class="token keyword">variable<span class="token type variable"> &quot;base_image&quot; </span></span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">default</span> <span class="token punctuation">=</span> <span class="token string">&quot;ubuntu-1804-bionic-v20210415&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">variable<span class="token type variable"> &quot;project&quot; </span></span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">default</span> <span class="token punctuation">=</span> <span class="token string">&quot;gs-test-282101&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">variable<span class="token type variable"> &quot;region&quot; </span></span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">default</span> <span class="token punctuation">=</span> <span class="token string">&quot;asia-northeast2&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">variable<span class="token type variable"> &quot;zone&quot; </span></span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">default</span> <span class="token punctuation">=</span> <span class="token string">&quot;asia-northeast2-a&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">variable<span class="token type variable"> &quot;image_name&quot; </span></span><span class="token punctuation">{</span></span>
<span class="line">  </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">variable<span class="token type variable"> &quot;placeholder&quot; </span></span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">default</span>     <span class="token punctuation">=</span> <span class="token string">&quot;placekitten.com&quot;</span></span>
<span class="line">  <span class="token property">description</span> <span class="token punctuation">=</span> <span class="token string">&quot;Image-as-a-service URL. Some other fun ones to try are fillmurray.com, placecage.com, placebeard.it, loremflickr.com, baconmockup.com, placeimg.com, placebear.com, placeskull.com, stevensegallery.com, placedog.net&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">source <span class="token string">&quot;googlecompute&quot;</span> <span class="token string">&quot;basic-example&quot;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">project_id</span> <span class="token punctuation">=</span> var.project</span>
<span class="line">  <span class="token property">source_image</span> <span class="token punctuation">=</span> var.base_image</span>
<span class="line">  <span class="token property">ssh_username</span> <span class="token punctuation">=</span> <span class="token string">&quot;ubuntu&quot;</span></span>
<span class="line">  <span class="token property">zone</span> <span class="token punctuation">=</span> var.zone</span>
<span class="line">  <span class="token property">disk_size</span> <span class="token punctuation">=</span> <span class="token number">10</span></span>
<span class="line">  <span class="token property">disk_type</span> <span class="token punctuation">=</span> <span class="token string">&quot;pd-ssd&quot;</span></span>
<span class="line">  <span class="token property">image_name</span> <span class="token punctuation">=</span> var.image_name</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">build</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">&quot;packer&quot;</span></span>
<span class="line">  source <span class="token string">&quot;sources.googlecompute.basic-example&quot;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">&quot;packer&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  provisioner <span class="token string">&quot;file&quot;</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">source</span> <span class="token punctuation">=</span> <span class="token string">&quot;./files&quot;</span></span>
<span class="line">    <span class="token property">destination</span> <span class="token punctuation">=</span> <span class="token string">&quot;/tmp/&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">provisioner<span class="token type variable"> &quot;shell&quot; </span></span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">inline</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span></span>
<span class="line">      <span class="token string">&quot;sudo apt-get -y update&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;sleep 15&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;sudo apt-get -y update&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;sudo apt-get -y install apache2&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;sudo systemctl enable apache2&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;sudo systemctl start apache2&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;sudo chown -R ubuntu:ubuntu /var/www/html&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;chmod +x /tmp/files/*.sh&quot;</span>,</span>
<span class="line">      <span class="token string">&quot;PLACEHOLDER=<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">placeholder</span><span class="token punctuation">}</span></span> WIDTH=600 HEIGHT=800 PREFIX=gs /tmp/files/deploy_app.sh&quot;</span>,</span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),l=[t];function c(o,i){return n(),a("div",null,l)}const k=s(e,[["render",c],["__file","GCP.html.vue"]]),d=JSON.parse('{"path":"/04-HashiCorp/01-Packer/05-SamplePkr/GCP.html","title":"Google Cloud Platform Packer Sample","lang":"ko-KR","frontmatter":{"description":"Packer Sample","tag":["Packer","Sample","GCP"],"head":[["meta",{"property":"og:url","content":"https://docmoa.github.io/04-HashiCorp/01-Packer/05-SamplePkr/GCP.html"}],["meta",{"property":"og:site_name","content":"docmoa"}],["meta",{"property":"og:title","content":"Google Cloud Platform Packer Sample"}],["meta",{"property":"og:description","content":"Packer Sample"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2023-09-18T13:12:54.000Z"}],["meta",{"property":"article:tag","content":"Packer"}],["meta",{"property":"article:tag","content":"Sample"}],["meta",{"property":"article:tag","content":"GCP"}],["meta",{"property":"article:modified_time","content":"2023-09-18T13:12:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Google Cloud Platform Packer Sample\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-09-18T13:12:54.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"packer.pkr.hcl","slug":"packer-pkr-hcl","link":"#packer-pkr-hcl","children":[]}],"git":{"createdTime":1632809937000,"updatedTime":1695042774000,"contributors":[{"name":"Administrator","email":"admin@example.com","commits":1},{"name":"Great-Stone","email":"hahohh@gmail.com","commits":1}]},"readingTime":{"minutes":2.47,"words":148},"filePathRelative":"04-HashiCorp/01-Packer/05-SamplePkr/GCP.md","localizedDate":"2021년 9월 28일","excerpt":"\\n<h2>packer.pkr.hcl</h2>\\n<div class=\\"language-hcl\\" data-highlighter=\\"prismjs\\" data-ext=\\"hcl\\" data-title=\\"hcl\\"><pre class=\\"language-hcl\\"><code><span class=\\"line\\"><span class=\\"token keyword\\">variable<span class=\\"token type variable\\"> \\"base_image\\" </span></span><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">default</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"ubuntu-1804-bionic-v20210415\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"><span class=\\"token keyword\\">variable<span class=\\"token type variable\\"> \\"project\\" </span></span><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">default</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"gs-test-282101\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"><span class=\\"token keyword\\">variable<span class=\\"token type variable\\"> \\"region\\" </span></span><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">default</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"asia-northeast2\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"><span class=\\"token keyword\\">variable<span class=\\"token type variable\\"> \\"zone\\" </span></span><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">default</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"asia-northeast2-a\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"><span class=\\"token keyword\\">variable<span class=\\"token type variable\\"> \\"image_name\\" </span></span><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  </span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"><span class=\\"token keyword\\">variable<span class=\\"token type variable\\"> \\"placeholder\\" </span></span><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">default</span>     <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"placekitten.com\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">description</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"Image-as-a-service URL. Some other fun ones to try are fillmurray.com, placecage.com, placebeard.it, loremflickr.com, baconmockup.com, placeimg.com, placebear.com, placeskull.com, stevensegallery.com, placedog.net\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">source <span class=\\"token string\\">\\"googlecompute\\"</span> <span class=\\"token string\\">\\"basic-example\\"</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">project_id</span> <span class=\\"token punctuation\\">=</span> var.project</span>\\n<span class=\\"line\\">  <span class=\\"token property\\">source_image</span> <span class=\\"token punctuation\\">=</span> var.base_image</span>\\n<span class=\\"line\\">  <span class=\\"token property\\">ssh_username</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"ubuntu\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">zone</span> <span class=\\"token punctuation\\">=</span> var.zone</span>\\n<span class=\\"line\\">  <span class=\\"token property\\">disk_size</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">10</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">disk_type</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"pd-ssd\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">image_name</span> <span class=\\"token punctuation\\">=</span> var.image_name</span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token keyword\\">build</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">name</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"packer\\"</span></span>\\n<span class=\\"line\\">  source <span class=\\"token string\\">\\"sources.googlecompute.basic-example\\"</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">      <span class=\\"token property\\">name</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"packer\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">  provisioner <span class=\\"token string\\">\\"file\\"</span><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">    <span class=\\"token property\\">source</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"./files\\"</span></span>\\n<span class=\\"line\\">    <span class=\\"token property\\">destination</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"/tmp/\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">  <span class=\\"token keyword\\">provisioner<span class=\\"token type variable\\"> \\"shell\\" </span></span><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">    <span class=\\"token property\\">inline</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token punctuation\\">[</span></span>\\n<span class=\\"line\\">      <span class=\\"token string\\">\\"sudo apt-get -y update\\"</span>,</span>\\n<span class=\\"line\\">      <span class=\\"token string\\">\\"sleep 15\\"</span>,</span>\\n<span class=\\"line\\">      <span class=\\"token string\\">\\"sudo apt-get -y update\\"</span>,</span>\\n<span class=\\"line\\">      <span class=\\"token string\\">\\"sudo apt-get -y install apache2\\"</span>,</span>\\n<span class=\\"line\\">      <span class=\\"token string\\">\\"sudo systemctl enable apache2\\"</span>,</span>\\n<span class=\\"line\\">      <span class=\\"token string\\">\\"sudo systemctl start apache2\\"</span>,</span>\\n<span class=\\"line\\">      <span class=\\"token string\\">\\"sudo chown -R ubuntu:ubuntu /var/www/html\\"</span>,</span>\\n<span class=\\"line\\">      <span class=\\"token string\\">\\"chmod +x /tmp/files/*.sh\\"</span>,</span>\\n<span class=\\"line\\">      <span class=\\"token string\\">\\"PLACEHOLDER=<span class=\\"token interpolation\\"><span class=\\"token punctuation\\">$</span><span class=\\"token punctuation\\">{</span><span class=\\"token keyword\\">var</span><span class=\\"token punctuation\\">.</span><span class=\\"token type variable\\">placeholder</span><span class=\\"token punctuation\\">}</span></span> WIDTH=600 HEIGHT=800 PREFIX=gs /tmp/files/deploy_app.sh\\"</span>,</span>\\n<span class=\\"line\\">    <span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">  <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span></code></pre></div>"}');export{k as comp,d as data};
