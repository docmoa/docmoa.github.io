import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as e,o as t,c as p,a as s,b as l,w as i,h as c,g as o}from"./app-DVMlqOhY.js";const u={},r=s("h1",{id:"integrate-vault",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#integrate-vault"},[s("span",null,"integrate Vault")])],-1),d=s("h2",{id:"아래-작업-전-forward-dns-for-consul-service-discovery을-진행해야함",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#아래-작업-전-forward-dns-for-consul-service-discovery을-진행해야함"},[s("span",null,"아래 작업 전 Forward DNS for Consul Service Discovery을 진행해야함")])],-1),k=c(`<h2 id="예제를-위한-vault-kv-설정" tabindex="-1"><a class="header-anchor" href="#예제를-위한-vault-kv-설정"><span>예제를 위한 vault kv 설정</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># 사용된 policy들</span></span>
<span class="line">$ <span class="token function">cat</span> nomad-cluster-role.json</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;allowed_policies&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;admin&quot;</span>,</span>
<span class="line">    <span class="token string">&quot;token_explicit_max_ttl&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,</span>
<span class="line">    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;nomad-cluster&quot;</span>,</span>
<span class="line">    <span class="token string">&quot;orphan&quot;</span><span class="token builtin class-name">:</span> true,</span>
<span class="line">    <span class="token string">&quot;token_period&quot;</span><span class="token builtin class-name">:</span> <span class="token number">259200</span>,</span>
<span class="line">    <span class="token string">&quot;renewable&quot;</span><span class="token builtin class-name">:</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">vault <span class="token function">write</span> /auth/token/roles/nomad-cluster @nomad-cluster-role.json</span>
<span class="line"></span>
<span class="line">$ <span class="token function">cat</span> admin-policy.hcl </span>
<span class="line"><span class="token comment"># Read system health check</span></span>
<span class="line">path <span class="token string">&quot;sys/health&quot;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  capabilities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;read&quot;</span>, <span class="token string">&quot;sudo&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Create and manage ACL policies broadly across Vault</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># List existing policies</span></span>
<span class="line">path <span class="token string">&quot;sys/policies/acl&quot;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  capabilities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Create and manage ACL policies</span></span>
<span class="line">path <span class="token string">&quot;sys/policies/acl/*&quot;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  capabilities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;create&quot;</span>, <span class="token string">&quot;read&quot;</span>, <span class="token string">&quot;update&quot;</span>, <span class="token string">&quot;delete&quot;</span>, <span class="token string">&quot;list&quot;</span>, <span class="token string">&quot;sudo&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Enable and manage authentication methods broadly across Vault</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Manage auth methods broadly across Vault</span></span>
<span class="line">path <span class="token string">&quot;auth/*&quot;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  capabilities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;create&quot;</span>, <span class="token string">&quot;read&quot;</span>, <span class="token string">&quot;update&quot;</span>, <span class="token string">&quot;delete&quot;</span>, <span class="token string">&quot;list&quot;</span>, <span class="token string">&quot;sudo&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Create, update, and delete auth methods</span></span>
<span class="line">path <span class="token string">&quot;sys/auth/*&quot;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  capabilities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;create&quot;</span>, <span class="token string">&quot;update&quot;</span>, <span class="token string">&quot;delete&quot;</span>, <span class="token string">&quot;sudo&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># List auth methods</span></span>
<span class="line">path <span class="token string">&quot;sys/auth&quot;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  capabilities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;read&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Enable and manage the key/value secrets engine at \`secret/\` path</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># List, create, update, and delete key/value secrets</span></span>
<span class="line">path <span class="token string">&quot;secret/*&quot;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  capabilities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;create&quot;</span>, <span class="token string">&quot;read&quot;</span>, <span class="token string">&quot;update&quot;</span>, <span class="token string">&quot;delete&quot;</span>, <span class="token string">&quot;list&quot;</span>, <span class="token string">&quot;sudo&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Manage secrets engines</span></span>
<span class="line">path <span class="token string">&quot;sys/mounts/*&quot;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  capabilities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;create&quot;</span>, <span class="token string">&quot;read&quot;</span>, <span class="token string">&quot;update&quot;</span>, <span class="token string">&quot;delete&quot;</span>, <span class="token string">&quot;list&quot;</span>, <span class="token string">&quot;sudo&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># List existing secrets engines.</span></span>
<span class="line">path <span class="token string">&quot;sys/mounts&quot;</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  capabilities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;read&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">vault policy <span class="token function">write</span> admin admin-policy.hcl</span>
<span class="line"></span>
<span class="line"><span class="token comment"># token 생성</span></span>
<span class="line">vault token create <span class="token parameter variable">-policy</span> admin <span class="token parameter variable">-period</span> 72h <span class="token parameter variable">-orphan</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="server-구성-예시" tabindex="-1"><a class="header-anchor" href="#server-구성-예시"><span>Server 구성 예시</span></a></h2><h3 id="storage를-consul을-사용하고-consul에-서비스가-등록되어-있는환경" tabindex="-1"><a class="header-anchor" href="#storage를-consul을-사용하고-consul에-서비스가-등록되어-있는환경"><span>storage를 consul을 사용하고 consul에 서비스가 등록되어 있는환경</span></a></h3><div class="language-hcl" data-highlighter="prismjs" data-ext="hcl" data-title="hcl"><pre class="language-hcl"><code><span class="line"><span class="token keyword">vault</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">enabled</span> <span class="token punctuation">=</span> <span class="token boolean">true</span></span>
<span class="line">    <span class="token property">address</span> <span class="token punctuation">=</span> <span class="token string">&quot;http://active.vault.service.consul:8200&quot;</span></span>
<span class="line">    <span class="token property">task_token_ttl</span> <span class="token punctuation">=</span> <span class="token string">&quot;1h&quot;</span></span>
<span class="line">    <span class="token property">create_from_role</span> <span class="token punctuation">=</span> <span class="token string">&quot;nomad-cluster&quot;</span></span>
<span class="line">    <span class="token property">token</span> <span class="token punctuation">=</span> <span class="token string">&quot;s.hQRpxLmyk6AgSKJWOc9Gmbj1&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><h2 id="client-구성-예시" tabindex="-1"><a class="header-anchor" href="#client-구성-예시"><span>Client 구성 예시</span></a></h2><div class="language-hcl" data-highlighter="prismjs" data-ext="hcl" data-title="hcl"><pre class="language-hcl"><code><span class="line"><span class="token keyword">vault</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">enabled</span> <span class="token punctuation">=</span> <span class="token boolean">true</span></span>
<span class="line">    <span class="token property">address</span> <span class="token punctuation">=</span> <span class="token string">&quot;http://active.vault.service.consul:8200&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div>`,7);function m(v,g){const n=e("RouteLink");return t(),p("div",null,[r,d,s("ul",null,[s("li",null,[l(n,{to:"/04-HashiCorp/04-Consul/02-Configuration/ForwardDns.html"},{default:i(()=>[o("Consul 설정 링크")]),_:1})])]),k])}const q=a(u,[["render",m],["__file","integrateVault.html.vue"]]),y=JSON.parse('{"path":"/04-HashiCorp/07-Nomad/02-Config/integrateVault.html","title":"integrate Vault","lang":"ko-KR","frontmatter":{"description":"Nomad Namespace","tag":["Nomad","Namespace"],"head":[["meta",{"property":"og:url","content":"https://docmoa.github.io/04-HashiCorp/07-Nomad/02-Config/integrateVault.html"}],["meta",{"property":"og:site_name","content":"docmoa"}],["meta",{"property":"og:title","content":"integrate Vault"}],["meta",{"property":"og:description","content":"Nomad Namespace"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2023-09-18T13:12:54.000Z"}],["meta",{"property":"article:tag","content":"Nomad"}],["meta",{"property":"article:tag","content":"Namespace"}],["meta",{"property":"article:modified_time","content":"2023-09-18T13:12:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"integrate Vault\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-09-18T13:12:54.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"아래 작업 전 Forward DNS for Consul Service Discovery을 진행해야함","slug":"아래-작업-전-forward-dns-for-consul-service-discovery을-진행해야함","link":"#아래-작업-전-forward-dns-for-consul-service-discovery을-진행해야함","children":[]},{"level":2,"title":"예제를 위한 vault kv 설정","slug":"예제를-위한-vault-kv-설정","link":"#예제를-위한-vault-kv-설정","children":[]},{"level":2,"title":"Server 구성 예시","slug":"server-구성-예시","link":"#server-구성-예시","children":[{"level":3,"title":"storage를 consul을 사용하고 consul에 서비스가 등록되어 있는환경","slug":"storage를-consul을-사용하고-consul에-서비스가-등록되어-있는환경","link":"#storage를-consul을-사용하고-consul에-서비스가-등록되어-있는환경","children":[]}]},{"level":2,"title":"Client 구성 예시","slug":"client-구성-예시","link":"#client-구성-예시","children":[]}],"git":{"createdTime":1642495601000,"updatedTime":1695042774000,"contributors":[{"name":"Great-Stone","email":"hahohh@gmail.com","commits":1},{"name":"ung","email":"swbs90@naver.com","commits":1}]},"readingTime":{"minutes":3.67,"words":220},"filePathRelative":"04-HashiCorp/07-Nomad/02-Config/integrateVault.md","localizedDate":"2022년 1월 18일","excerpt":"\\n<h2>아래 작업 전 Forward DNS for Consul Service Discovery을 진행해야함</h2>\\n<ul>\\n<li><a href=\\"/04-HashiCorp/04-Consul/02-Configuration/ForwardDns.html\\" target=\\"_blank\\">Consul 설정 링크</a></li>\\n</ul>\\n<h2>예제를 위한 vault kv 설정</h2>\\n<div class=\\"language-bash\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"line\\"><span class=\\"token comment\\"># 사용된 policy들</span></span>\\n<span class=\\"line\\">$ <span class=\\"token function\\">cat</span> nomad-cluster-role.json</span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">    <span class=\\"token string\\">\\"allowed_policies\\"</span><span class=\\"token builtin class-name\\">:</span> <span class=\\"token string\\">\\"admin\\"</span>,</span>\\n<span class=\\"line\\">    <span class=\\"token string\\">\\"token_explicit_max_ttl\\"</span><span class=\\"token builtin class-name\\">:</span> <span class=\\"token number\\">0</span>,</span>\\n<span class=\\"line\\">    <span class=\\"token string\\">\\"name\\"</span><span class=\\"token builtin class-name\\">:</span> <span class=\\"token string\\">\\"nomad-cluster\\"</span>,</span>\\n<span class=\\"line\\">    <span class=\\"token string\\">\\"orphan\\"</span><span class=\\"token builtin class-name\\">:</span> true,</span>\\n<span class=\\"line\\">    <span class=\\"token string\\">\\"token_period\\"</span><span class=\\"token builtin class-name\\">:</span> <span class=\\"token number\\">259200</span>,</span>\\n<span class=\\"line\\">    <span class=\\"token string\\">\\"renewable\\"</span><span class=\\"token builtin class-name\\">:</span> <span class=\\"token boolean\\">true</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\">vault <span class=\\"token function\\">write</span> /auth/token/roles/nomad-cluster @nomad-cluster-role.json</span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">$ <span class=\\"token function\\">cat</span> admin-policy.hcl </span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># Read system health check</span></span>\\n<span class=\\"line\\">path <span class=\\"token string\\">\\"sys/health\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  capabilities <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"read\\"</span>, <span class=\\"token string\\">\\"sudo\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># Create and manage ACL policies broadly across Vault</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># List existing policies</span></span>\\n<span class=\\"line\\">path <span class=\\"token string\\">\\"sys/policies/acl\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  capabilities <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"list\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># Create and manage ACL policies</span></span>\\n<span class=\\"line\\">path <span class=\\"token string\\">\\"sys/policies/acl/*\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  capabilities <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"create\\"</span>, <span class=\\"token string\\">\\"read\\"</span>, <span class=\\"token string\\">\\"update\\"</span>, <span class=\\"token string\\">\\"delete\\"</span>, <span class=\\"token string\\">\\"list\\"</span>, <span class=\\"token string\\">\\"sudo\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># Enable and manage authentication methods broadly across Vault</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># Manage auth methods broadly across Vault</span></span>\\n<span class=\\"line\\">path <span class=\\"token string\\">\\"auth/*\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  capabilities <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"create\\"</span>, <span class=\\"token string\\">\\"read\\"</span>, <span class=\\"token string\\">\\"update\\"</span>, <span class=\\"token string\\">\\"delete\\"</span>, <span class=\\"token string\\">\\"list\\"</span>, <span class=\\"token string\\">\\"sudo\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># Create, update, and delete auth methods</span></span>\\n<span class=\\"line\\">path <span class=\\"token string\\">\\"sys/auth/*\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  capabilities <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"create\\"</span>, <span class=\\"token string\\">\\"update\\"</span>, <span class=\\"token string\\">\\"delete\\"</span>, <span class=\\"token string\\">\\"sudo\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># List auth methods</span></span>\\n<span class=\\"line\\">path <span class=\\"token string\\">\\"sys/auth\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  capabilities <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"read\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># Enable and manage the key/value secrets engine at `secret/` path</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># List, create, update, and delete key/value secrets</span></span>\\n<span class=\\"line\\">path <span class=\\"token string\\">\\"secret/*\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  capabilities <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"create\\"</span>, <span class=\\"token string\\">\\"read\\"</span>, <span class=\\"token string\\">\\"update\\"</span>, <span class=\\"token string\\">\\"delete\\"</span>, <span class=\\"token string\\">\\"list\\"</span>, <span class=\\"token string\\">\\"sudo\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># Manage secrets engines</span></span>\\n<span class=\\"line\\">path <span class=\\"token string\\">\\"sys/mounts/*\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  capabilities <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"create\\"</span>, <span class=\\"token string\\">\\"read\\"</span>, <span class=\\"token string\\">\\"update\\"</span>, <span class=\\"token string\\">\\"delete\\"</span>, <span class=\\"token string\\">\\"list\\"</span>, <span class=\\"token string\\">\\"sudo\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># List existing secrets engines.</span></span>\\n<span class=\\"line\\">path <span class=\\"token string\\">\\"sys/mounts\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  capabilities <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"read\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\">vault policy <span class=\\"token function\\">write</span> admin admin-policy.hcl</span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># token 생성</span></span>\\n<span class=\\"line\\">vault token create <span class=\\"token parameter variable\\">-policy</span> admin <span class=\\"token parameter variable\\">-period</span> 72h <span class=\\"token parameter variable\\">-orphan</span></span>\\n<span class=\\"line\\"></span></code></pre></div>"}');export{q as comp,y as data};
