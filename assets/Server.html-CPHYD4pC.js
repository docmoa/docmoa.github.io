import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,h as e}from"./app-DVMlqOhY.js";const p={},l=e(`<h1 id="nomad-서버-설정" tabindex="-1"><a class="header-anchor" href="#nomad-서버-설정"><span>Nomad 서버 설정</span></a></h1><div class="hint-container tip"><p class="hint-container-title">팁</p><p>최대한 설정값을 넣어보고, 번역기도 돌려보고 물어도 보고 넣은 server설정 파일입니다.<br> 네트워크는 프라이빗(온프레이머스) 환경입니다.</p></div><div class="language-hcl line-numbers-mode" data-highlighter="prismjs" data-ext="hcl" data-title="hcl"><pre class="language-hcl"><code><span class="line"><span class="token comment">#nomad server 설정</span></span>
<span class="line"><span class="token keyword">server</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">enabled</span> <span class="token punctuation">=</span> <span class="token boolean">true</span></span>
<span class="line">  <span class="token property">bootstrap_expect</span> <span class="token punctuation">=</span> <span class="token number">3</span></span>
<span class="line">  <span class="token property">license_path</span><span class="token punctuation">=</span><span class="token string">&quot;/opt/nomad/license/nomad.license&quot;</span></span>
<span class="line">  <span class="token keyword">server_join</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">retry_join</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;172.30.1.17&quot;</span>,<span class="token string">&quot;172.30.1.18&quot;</span>,<span class="token string">&quot;172.30.1.19&quot;</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token property">raft_protocol</span> <span class="token punctuation">=</span> <span class="token number">3</span></span>
<span class="line">  <span class="token property">event_buffer_size</span> <span class="token punctuation">=</span> <span class="token number">100</span></span>
<span class="line">  <span class="token property">non_voting_server</span> <span class="token punctuation">=</span> <span class="token boolean">false</span></span>
<span class="line">  <span class="token property">heartbeat_grace</span> <span class="token punctuation">=</span> <span class="token string">&quot;10s&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"> </span>
<span class="line"> </span>
<span class="line"><span class="token comment">#tls 설정</span></span>
<span class="line"><span class="token keyword">tls</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">http</span> <span class="token punctuation">=</span> <span class="token boolean">true</span></span>
<span class="line">  <span class="token property">rpc</span>  <span class="token punctuation">=</span> <span class="token boolean">true</span></span>
<span class="line"> </span>
<span class="line">  <span class="token property">ca_file</span>   <span class="token punctuation">=</span> <span class="token string">&quot;/opt/ssl/nomad/nomad-agent-ca.pem&quot;</span></span>
<span class="line">  <span class="token property">cert_file</span> <span class="token punctuation">=</span> <span class="token string">&quot;/opt/ssl/nomad/global-server-nomad-0.pem&quot;</span></span>
<span class="line">  <span class="token property">key_file</span>  <span class="token punctuation">=</span> <span class="token string">&quot;/opt/ssl/nomad/global-server-nomad-0-key.pem&quot;</span></span>
<span class="line"> </span>
<span class="line">  <span class="token comment">#UI오픈할 서버만 변경</span></span>
<span class="line">  <span class="token property">verify_server_hostname</span> <span class="token punctuation">=</span> <span class="token boolean">false</span></span>
<span class="line">  <span class="token property">verify_https_client</span>    <span class="token punctuation">=</span> <span class="token boolean">false</span></span>
<span class="line">  <span class="token comment">#일반서버는 아래와 같이 설정</span></span>
<span class="line">  <span class="token property">verify_server_hostname</span> <span class="token punctuation">=</span> <span class="token boolean">true</span></span>
<span class="line">  <span class="token property">verify_https_client</span>    <span class="token punctuation">=</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="nomad-서버-최소-설정-20220807기준" tabindex="-1"><a class="header-anchor" href="#nomad-서버-최소-설정-20220807기준"><span>Nomad 서버 최소 설정 (20220807기준)</span></a></h1><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">data_dir = &quot;/opt/consul&quot;</span>
<span class="line"></span>
<span class="line">client_addr = &quot;0.0.0.0&quot;</span>
<span class="line"></span>
<span class="line">datacenter = &quot;my-dc&quot;</span>
<span class="line"></span>
<span class="line">#ui</span>
<span class="line">ui_config {</span>
<span class="line">  enabled = true</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"># server</span>
<span class="line">server = true</span>
<span class="line"></span>
<span class="line"># Bind addr</span>
<span class="line">bind_addr = &quot;0.0.0.0&quot; # Listen on all IPv4</span>
<span class="line"># Advertise addr - if you want to point clients to a different address than bind or LB.</span>
<span class="line">advertise_addr = &quot;node ip&quot;</span>
<span class="line"></span>
<span class="line"># Enterprise License</span>
<span class="line">license_path = &quot;/opt/nomad/nomad.lic&quot;</span>
<span class="line"></span>
<span class="line"># bootstrap_expect</span>
<span class="line">bootstrap_expect=1</span>
<span class="line"></span>
<span class="line"># encrypt</span>
<span class="line">encrypt = &quot;7w+zkhqa+YD4GSKXjRWETBIT8hs53Sr/w95oiVxq5Qc=&quot;</span>
<span class="line"></span>
<span class="line"># retry_join</span>
<span class="line">retry_join = [&quot;server ip&quot;]</span>
<span class="line"></span>
<span class="line">key_file = &quot;/opt/consul/my-dc-server-consul-0-key.pem&quot;</span>
<span class="line">cert_file = &quot;/opt/consul/my-dc-server-consul-0.pem&quot;</span>
<span class="line">ca_file = &quot;/opt/consul/consul-agent-ca.pem&quot;</span>
<span class="line">auto_encrypt {</span>
<span class="line">  allow_tls = true</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">verify_incoming = false</span>
<span class="line">verify_incoming_rpc = false</span>
<span class="line">verify_outgoing = false</span>
<span class="line">verify_server_hostname = false</span>
<span class="line"></span>
<span class="line">ports {</span>
<span class="line">  http = 8500</span>
<span class="line">  dns = 8600</span>
<span class="line">  server = 8300</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),t=[l];function i(c,o){return s(),a("div",null,t)}const u=n(p,[["render",i],["__file","Server.html.vue"]]),v=JSON.parse('{"path":"/04-HashiCorp/07-Nomad/02-Config/Server.html","title":"Nomad 서버 설정","lang":"ko-KR","frontmatter":{"description":"Nomad Server Configuration","tag":["Nomad","Enterprise","Configuration","Server"],"head":[["meta",{"property":"og:url","content":"https://docmoa.github.io/04-HashiCorp/07-Nomad/02-Config/Server.html"}],["meta",{"property":"og:site_name","content":"docmoa"}],["meta",{"property":"og:title","content":"Nomad 서버 설정"}],["meta",{"property":"og:description","content":"Nomad Server Configuration"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2023-09-18T13:12:54.000Z"}],["meta",{"property":"article:tag","content":"Nomad"}],["meta",{"property":"article:tag","content":"Enterprise"}],["meta",{"property":"article:tag","content":"Configuration"}],["meta",{"property":"article:tag","content":"Server"}],["meta",{"property":"article:modified_time","content":"2023-09-18T13:12:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Nomad 서버 설정\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-09-18T13:12:54.000Z\\",\\"author\\":[]}"]]},"headers":[],"git":{"createdTime":1629555140000,"updatedTime":1695042774000,"contributors":[{"name":"Great-Stone","email":"hahohh@gmail.com","commits":2},{"name":"admin","email":"sulee@expernet.co.kr","commits":2},{"name":"swbs90","email":"swbs90@naver.com","commits":1}]},"readingTime":{"minutes":2.68,"words":161},"filePathRelative":"04-HashiCorp/07-Nomad/02-Config/Server.md","localizedDate":"2021년 8월 21일","excerpt":"\\n<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">팁</p>\\n<p>최대한 설정값을 넣어보고, 번역기도 돌려보고 물어도 보고 넣은 server설정 파일입니다.<br>\\n네트워크는 프라이빗(온프레이머스) 환경입니다.</p>\\n</div>\\n<div class=\\"language-hcl\\" data-highlighter=\\"prismjs\\" data-ext=\\"hcl\\" data-title=\\"hcl\\"><pre class=\\"language-hcl\\"><code><span class=\\"line\\"><span class=\\"token comment\\">#nomad server 설정</span></span>\\n<span class=\\"line\\"><span class=\\"token keyword\\">server</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">enabled</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token boolean\\">true</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">bootstrap_expect</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">3</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">license_path</span><span class=\\"token punctuation\\">=</span><span class=\\"token string\\">\\"/opt/nomad/license/nomad.license\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token keyword\\">server_join</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">    <span class=\\"token property\\">retry_join</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"172.30.1.17\\"</span>,<span class=\\"token string\\">\\"172.30.1.18\\"</span>,<span class=\\"token string\\">\\"172.30.1.19\\"</span><span class=\\"token punctuation\\">]</span></span>\\n<span class=\\"line\\">  <span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">raft_protocol</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">3</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">event_buffer_size</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token number\\">100</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">non_voting_server</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token boolean\\">false</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">heartbeat_grace</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"10s\\"</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"> </span>\\n<span class=\\"line\\"> </span>\\n<span class=\\"line\\"><span class=\\"token comment\\">#tls 설정</span></span>\\n<span class=\\"line\\"><span class=\\"token keyword\\">tls</span> <span class=\\"token punctuation\\">{</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">http</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token boolean\\">true</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">rpc</span>  <span class=\\"token punctuation\\">=</span> <span class=\\"token boolean\\">true</span></span>\\n<span class=\\"line\\"> </span>\\n<span class=\\"line\\">  <span class=\\"token property\\">ca_file</span>   <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"/opt/ssl/nomad/nomad-agent-ca.pem\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">cert_file</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"/opt/ssl/nomad/global-server-nomad-0.pem\\"</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">key_file</span>  <span class=\\"token punctuation\\">=</span> <span class=\\"token string\\">\\"/opt/ssl/nomad/global-server-nomad-0-key.pem\\"</span></span>\\n<span class=\\"line\\"> </span>\\n<span class=\\"line\\">  <span class=\\"token comment\\">#UI오픈할 서버만 변경</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">verify_server_hostname</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token boolean\\">false</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">verify_https_client</span>    <span class=\\"token punctuation\\">=</span> <span class=\\"token boolean\\">false</span></span>\\n<span class=\\"line\\">  <span class=\\"token comment\\">#일반서버는 아래와 같이 설정</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">verify_server_hostname</span> <span class=\\"token punctuation\\">=</span> <span class=\\"token boolean\\">true</span></span>\\n<span class=\\"line\\">  <span class=\\"token property\\">verify_https_client</span>    <span class=\\"token punctuation\\">=</span> <span class=\\"token boolean\\">true</span></span>\\n<span class=\\"line\\"><span class=\\"token punctuation\\">}</span></span>\\n<span class=\\"line\\"></span></code></pre></div>"}');export{u as comp,v as data};
