import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as e,c as a,h as n}from"./app-DVMlqOhY.js";const s={},r=n(`<h1 id="_05-á„á…¦á„…á…¡á„‘á…©á†·-á„‰á…¡á†¼á„á…¢á„‘á…¡á„‹á…µá†¯-state" tabindex="-1"><a class="header-anchor" href="#_05-á„á…¦á„…á…¡á„‘á…©á†·-á„‰á…¡á†¼á„á…¢á„‘á…¡á„‹á…µá†¯-state"><span>05. í…Œë¼í¼ ìƒíƒœíŒŒì¼(State)</span></a></h1><h2 id="terraform-state" tabindex="-1"><a class="header-anchor" href="#terraform-state"><span>Terraform State</span></a></h2><p>Terraformì€ <sub>stateful</sub> ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ì¦‰, state file ë‚´ë¶€ì—ì„œ ë¹Œë“œ í•œ ëª¨ë“  ë‚´ìš©ì„ ì¶”ì í•©ë‹ˆë‹¤.</p><p>ì•ì„œì˜ ì‹¤ìŠµì—ì„œ ë°˜ë³µëœ <code>Apply</code> ì‘ì—… ê°„ì— Workspace ë””ë ‰í† ë¦¬ì— ë‚˜íƒ€ë‚œ <code>terraform.tfstate</code> ë° <code>terraform.tfstate.backup</code> íŒŒì¼ì„ ë³´ì…¨ì„ ê²ƒì…ë‹ˆë‹¤.</p><p>ìƒíƒœ íŒŒì¼ì€ Terraformì´ ì•Œê³ ìˆëŠ” ëª¨ë“  ê²ƒì— ëŒ€í•œ ê¸°ë¡ ì†ŒìŠ¤ì…ë‹ˆë‹¤.</p><div class="hint-container info"><p class="hint-container-title">íŒŒì¼ êµ¬ì¡°</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">WORKSPACE</span>
<span class="line">â”œâ”€â”€ files</span>
<span class="line">â”‚   â””â”€â”€ deploy_app.sh</span>
<span class="line">â”œâ”€â”€ main.tf</span>
<span class="line">â”œâ”€â”€ outputs.tf</span>
<span class="line">â”œâ”€â”€ <span class="token variable"><span class="token variable">\`</span>terraform.tfstate<span class="token variable">\`</span></span></span>
<span class="line">â”œâ”€â”€ <span class="token variable"><span class="token variable">\`</span>terraform.tfstate.backup<span class="token variable">\`</span></span></span>
<span class="line">â”œâ”€â”€ terraform.tfvars</span>
<span class="line">â””â”€â”€ variables.tf</span>
<span class="line"></span></code></pre></div></div><p>State íŒŒì¼ ë‚´ë¶€ëŠ” JSON í˜•ì‹ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìˆìŠµë‹ˆë‹¤.</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre class="language-json"><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;terraform_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.12.7&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;serial&quot;</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;lineage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;452b4191-89f6-db17-a3b1-4470dcb00607&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;outputs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;catapp_url&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://go-hashicat-5c0265179ccda553.workshop.aws.hashidemos.io&quot;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="terraform-refresh" tabindex="-1"><a class="header-anchor" href="#terraform-refresh"><span>Terraform Refresh</span></a></h2><p>ë•Œë•Œë¡œ ì¸í”„ë¼ëŠ” Terraformì´ í†µì œí•˜ëŠ” ë²”ìœ„ ë°–ì—ì„œ ë³€ê²½ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ìˆ˜ë™ìœ¼ë¡œ UIì—ì„œ ë³€ê²½ ë“±)</p><p>State íŒŒì¼ì€ ì¸í”„ë¼ì˜ ë§ˆì§€ë§‰ìœ¼ë¡œ ê°±ì‹ ëœ ìƒíƒœë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ìƒíƒœ íŒŒì¼ì´ ë¹Œë“œ í•œ íŒŒì¼ê³¼ ì—¬ì „íˆ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  í™•ì¸í•˜ë ¤ë©´ <code>terraform refresh</code> ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>ì´ê²ƒì€ ì¸í”„ë¼ë¥¼ ì—…ë°ì´íŠ¸í•˜ì§€ ì•ŠëŠ” ìƒíƒœ íŒŒì¼ ë§Œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">terraform refresh</span>
<span class="line"></span></code></pre></div><h2 id="á„€á…µá„Œá…©á†«-á„‹á…µá†«á„‘á…³á„…á…¡-á„‡á…§á†«á„€á…§á†¼" tabindex="-1"><a class="header-anchor" href="#á„€á…µá„Œá…©á†«-á„‹á…µá†«á„‘á…³á„…á…¡-á„‡á…§á†«á„€á…§á†¼"><span>ê¸°ì¡´ ì¸í”„ë¼ ë³€ê²½</span></a></h2><p>ê³„íšì„ ì‹¤í–‰í•˜ê±°ë‚˜ ì ìš© í•  ë•Œë§ˆë‹¤ Terraformì€ ì„¸ ê°€ì§€ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì¡°ì •í•©ë‹ˆë‹¤.</p><ol><li>ì½”ë“œì— ì‘ì„±í•œ ë‚´ìš©</li><li>ìƒíƒœ íŒŒì¼</li><li>ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ” ê²ƒ</li></ol><p>Terraformì€ <code>*.tf</code> íŒŒì¼ì—ìˆëŠ” ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ë¥¼ ì¶”ê°€, ì‚­ì œ, ë³€ê²½ ë˜ëŠ” êµì²´í•˜ê¸° ìœ„í•´ <mark>ìµœì„ </mark> ì„ ë‹¤í•©ë‹ˆë‹¤. ë‹¤ìŒì€ Plan/Apply ì¤‘ì— ê° ë¦¬ì†ŒìŠ¤ì— ë°œìƒí•  ìˆ˜ìˆëŠ” ë„¤ ê°€ì§€ ì‚¬í•­ì…ë‹ˆë‹¤.</p><div class="language-diff" data-highlighter="prismjs" data-ext="diff" data-title="diff"><pre class="language-diff"><code><span class="line"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   create</span>
<span class="line"></span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">   destroy</span>
<span class="line"></span><span class="token prefix deleted">-</span><span class="token line">/+ replace</span>
<span class="line"></span></span>~   update in-place</span>
<span class="line"></span></code></pre></div><div class="hint-container warning"><p class="hint-container-title">ê²½ê³ </p><p>ë¬´ì—‡ì¸ê°€ ë³€ê²½í• ë•Œ <code>-/+ replace</code>ê°€ ë°œìƒí•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ì´ê²ƒì€ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚­ì œí•˜ê³  ë‹¤ì‹œ ìƒì„±í•©ë‹ˆë‹¤.</p></div><h2 id="terraform-state-quiz" tabindex="-1"><a class="header-anchor" href="#terraform-state-quiz"><span>ğŸ˜± Terraform State Quiz :</span></a></h2><p>ê° ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì–´ë–¤ ì¼ì´ ë°œìƒí•©ë‹ˆê¹Œ? ë…¼ì˜í•´ ë³¼ê¹Œìš”?</p><table><thead><tr><th style="text-align:center;">Configuration(.tf)</th><th style="text-align:center;">State</th><th style="text-align:center;">Reality</th><th style="text-align:center;">Operation</th></tr></thead><tbody><tr><td style="text-align:center;">ncloud_server</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;">???</td></tr><tr><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;"></td><td style="text-align:center;">???</td></tr><tr><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">???</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">???</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">???</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;"></td><td style="text-align:center;">???</td></tr></tbody></table><details class="hint-container details"><summary>ë‹µ</summary><table><thead><tr><th style="text-align:center;">Configuration(.tf)</th><th style="text-align:center;">State</th><th style="text-align:center;">Reality</th><th style="text-align:center;">Operation</th></tr></thead><tbody><tr><td style="text-align:center;">ncloud_server</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;">create</td></tr><tr><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;"></td><td style="text-align:center;">create</td></tr><tr><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">delete</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">ncloud_server</td><td style="text-align:center;"></td><td style="text-align:center;">update state</td></tr></tbody></table></details>`,23),l=[r];function o(p,i){return e(),a("div",null,l)}const u=t(s,[["render",o],["__file","05-terraform-state.html.vue"]]),m=JSON.parse('{"path":"/03-PublicCloud/NCP/09-Terraform-Workshop/01-intro_to_terraform_on_ncp/05-terraform-state.html","title":"05. í…Œë¼í¼ ìƒíƒœíŒŒì¼(State)","lang":"ko-KR","frontmatter":{"description":"Naver Cloud Platformì—ì„œì˜ Terraform ì‹¤ìŠµ","tag":["ncloud","ncp","terraform","workshop"],"head":[["meta",{"property":"og:url","content":"https://docmoa.github.io/03-PublicCloud/NCP/09-Terraform-Workshop/01-intro_to_terraform_on_ncp/05-terraform-state.html"}],["meta",{"property":"og:site_name","content":"docmoa"}],["meta",{"property":"og:title","content":"05. í…Œë¼í¼ ìƒíƒœíŒŒì¼(State)"}],["meta",{"property":"og:description","content":"Naver Cloud Platformì—ì„œì˜ Terraform ì‹¤ìŠµ"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2023-09-19T11:31:31.000Z"}],["meta",{"property":"article:tag","content":"ncloud"}],["meta",{"property":"article:tag","content":"ncp"}],["meta",{"property":"article:tag","content":"terraform"}],["meta",{"property":"article:tag","content":"workshop"}],["meta",{"property":"article:modified_time","content":"2023-09-19T11:31:31.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"05. í…Œë¼í¼ ìƒíƒœíŒŒì¼(State)\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-09-19T11:31:31.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Terraform State","slug":"terraform-state","link":"#terraform-state","children":[]},{"level":2,"title":"Terraform Refresh","slug":"terraform-refresh","link":"#terraform-refresh","children":[]},{"level":2,"title":"ê¸°ì¡´ ì¸í”„ë¼ ë³€ê²½","slug":"á„€á…µá„Œá…©á†«-á„‹á…µá†«á„‘á…³á„…á…¡-á„‡á…§á†«á„€á…§á†¼","link":"#á„€á…µá„Œá…©á†«-á„‹á…µá†«á„‘á…³á„…á…¡-á„‡á…§á†«á„€á…§á†¼","children":[]},{"level":2,"title":"ğŸ˜± Terraform State Quiz :","slug":"terraform-state-quiz","link":"#terraform-state-quiz","children":[]}],"git":{"createdTime":1634784217000,"updatedTime":1695123091000,"contributors":[{"name":"Great-Stone","email":"hahohh@gmail.com","commits":2}]},"readingTime":{"minutes":2.38,"words":143},"filePathRelative":"03-PublicCloud/NCP/09-Terraform-Workshop/01-intro_to_terraform_on_ncp/05-terraform-state.md","localizedDate":"2021ë…„ 10ì›” 21ì¼","excerpt":"\\n<h2>Terraform State</h2>\\n<p>Terraformì€ <sub>stateful</sub> ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ì¦‰, state file ë‚´ë¶€ì—ì„œ ë¹Œë“œ í•œ ëª¨ë“  ë‚´ìš©ì„ ì¶”ì í•©ë‹ˆë‹¤.</p>\\n<p>ì•ì„œì˜ ì‹¤ìŠµì—ì„œ ë°˜ë³µëœ <code>Apply</code> ì‘ì—… ê°„ì— Workspace ë””ë ‰í† ë¦¬ì— ë‚˜íƒ€ë‚œ <code>terraform.tfstate</code> ë° <code>terraform.tfstate.backup</code> íŒŒì¼ì„ ë³´ì…¨ì„ ê²ƒì…ë‹ˆë‹¤.</p>\\n<p>ìƒíƒœ íŒŒì¼ì€ Terraformì´ ì•Œê³ ìˆëŠ” ëª¨ë“  ê²ƒì— ëŒ€í•œ ê¸°ë¡ ì†ŒìŠ¤ì…ë‹ˆë‹¤.</p>"}');export{u as comp,m as data};
