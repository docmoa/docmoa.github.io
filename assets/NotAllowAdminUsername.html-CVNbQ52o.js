import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,h as e}from"./app-DVMlqOhY.js";const t={},i=e(`<h1 id="the-admin-username-specified-is-not-allowed" tabindex="-1"><a class="header-anchor" href="#the-admin-username-specified-is-not-allowed"><span>The Admin Username specified is not allowed.</span></a></h1><table><thead><tr><th>Log</th></tr></thead><tbody><tr><td>Error : compute.VirtualMachinesClient#CreateOrUpdate: Failure sending request: StatusCode=400 – Original Error: Code=“InvalidParameter” Message=“The Admin Username specified is not allowed.” Target=&quot;adminUsername&quot;</td></tr></tbody></table><p>Azure(azurerm) 프로바이더를 사용하여 Virtual Machine을 프로비저닝하는 경우 <code>OSProfile</code>에서 Admin User Name을 잘못된 조건으로 구성하는 경우 발생 할 수 있음</p><h2 id="azure-api-osprofile-adminusername-property" tabindex="-1"><a class="header-anchor" href="#azure-api-osprofile-adminusername-property"><span>Azure API - OSProfile.AdminUsername Property</span></a></h2><p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.management.compute.models.osprofile.adminusername?view=azure-dotnet" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.management.compute.models.osprofile.adminusername?view=azure-dotnet</a></p><p>Azure의 API에서 정의하는 <code>OSProfile</code> 내의 <code>AdminUsername</code>은 온라인 문서에서처럼 몇가지 룰이 있다.</p><ul><li>Windows VM 제약 <ul><li><code>.</code> 으로 끝날 수 없음</li><li>20자 제한</li></ul></li><li>Linux VM 제약 <ul><li>1~64자</li></ul></li><li>다음의 이름은 AdminUser로 허용되지 않음 <ul><li>administrator</li><li>adm</li><li>admin</li><li>admin1</li><li>admin2</li><li>user</li><li>user1</li><li>user2</li><li>user3</li><li>user4</li><li>user5</li><li>test</li><li>test1</li><li>test2</li><li>test3</li><li>1</li><li>123</li><li>a</li><li>actuser</li><li>aspnet</li><li>backup</li><li>console</li><li>david</li><li>guest</li><li>john</li><li>owner</li><li>root</li><li>server</li><li>sql</li><li>support</li><li>support_388945a0</li><li>sys</li></ul></li></ul><h2 id="terraform-error-code-sample" tabindex="-1"><a class="header-anchor" href="#terraform-error-code-sample"><span>Terraform Error Code Sample</span></a></h2><p><a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/virtual_machine" target="_blank" rel="noopener noreferrer">https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/virtual_machine</a></p><div class="language-hcl line-numbers-mode" data-highlighter="prismjs" data-ext="hcl" data-title="hcl"><pre class="language-hcl"><code><span class="line"><span class="token keyword">resource <span class="token type variable">&quot;azurerm_virtual_machine&quot;</span></span> <span class="token string">&quot;main&quot;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">name</span>                  <span class="token punctuation">=</span> <span class="token string">&quot;<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-vm&quot;</span></span>
<span class="line">  <span class="token property">location</span>              <span class="token punctuation">=</span> azurerm_resource_group.main.location</span>
<span class="line">  <span class="token property">resource_group_name</span>   <span class="token punctuation">=</span> azurerm_resource_group.main.name</span>
<span class="line">  <span class="token property">network_interface_ids</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>azurerm_network_interface.main.id<span class="token punctuation">]</span></span>
<span class="line">  <span class="token property">vm_size</span>               <span class="token punctuation">=</span> <span class="token string">&quot;Standard_DS1_v2&quot;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">storage_image_reference</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">publisher</span> <span class="token punctuation">=</span> <span class="token string">&quot;Canonical&quot;</span></span>
<span class="line">    <span class="token property">offer</span>     <span class="token punctuation">=</span> <span class="token string">&quot;UbuntuServer&quot;</span></span>
<span class="line">    <span class="token property">sku</span>       <span class="token punctuation">=</span> <span class="token string">&quot;16.04-LTS&quot;</span></span>
<span class="line">    <span class="token property">version</span>   <span class="token punctuation">=</span> <span class="token string">&quot;latest&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">storage_os_disk</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">name</span>              <span class="token punctuation">=</span> <span class="token string">&quot;myosdisk1&quot;</span></span>
<span class="line">    <span class="token property">caching</span>           <span class="token punctuation">=</span> <span class="token string">&quot;ReadWrite&quot;</span></span>
<span class="line">    <span class="token property">create_option</span>     <span class="token punctuation">=</span> <span class="token string">&quot;FromImage&quot;</span></span>
<span class="line">    <span class="token property">managed_disk_type</span> <span class="token punctuation">=</span> <span class="token string">&quot;Standard_LRS&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">os_profile</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">computer_name</span>  <span class="token punctuation">=</span> <span class="token string">&quot;hostname&quot;</span></span>
<span class="line highlighted">    <span class="token property">admin_username</span> <span class="token punctuation">=</span> <span class="token string">&quot;test&quot;</span></span>
<span class="line">    <span class="token property">admin_password</span> <span class="token punctuation">=</span> <span class="token string">&quot;Password1234!&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">os_profile_linux_config</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">disable_password_authentication</span> <span class="token punctuation">=</span> <span class="token boolean">false</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">environment</span> <span class="token punctuation">=</span> <span class="token string">&quot;staging&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10),o=[i];function r(l,p){return s(),a("div",null,o)}const d=n(t,[["render",r],["__file","NotAllowAdminUsername.html.vue"]]),m=JSON.parse('{"path":"/04-HashiCorp/03-Terraform/04-TroubleShooting/NotAllowAdminUsername.html","title":"The Admin Username specified is not allowed.","lang":"ko-KR","frontmatter":{"description":"Terraform Azure AdminUsername Error","tag":["Terraform","Azure"],"head":[["meta",{"property":"og:url","content":"https://docmoa.github.io/04-HashiCorp/03-Terraform/04-TroubleShooting/NotAllowAdminUsername.html"}],["meta",{"property":"og:site_name","content":"docmoa"}],["meta",{"property":"og:title","content":"The Admin Username specified is not allowed."}],["meta",{"property":"og:description","content":"Terraform Azure AdminUsername Error"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2023-09-18T13:12:54.000Z"}],["meta",{"property":"article:tag","content":"Terraform"}],["meta",{"property":"article:tag","content":"Azure"}],["meta",{"property":"article:modified_time","content":"2023-09-18T13:12:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"The Admin Username specified is not allowed.\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-09-18T13:12:54.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Azure API - OSProfile.AdminUsername Property","slug":"azure-api-osprofile-adminusername-property","link":"#azure-api-osprofile-adminusername-property","children":[]},{"level":2,"title":"Terraform Error Code Sample","slug":"terraform-error-code-sample","link":"#terraform-error-code-sample","children":[]}],"git":{"createdTime":1632444868000,"updatedTime":1695042774000,"contributors":[{"name":"Administrator","email":"admin@example.com","commits":3},{"name":"Great-Stone","email":"hahohh@gmail.com","commits":1}]},"readingTime":{"minutes":2.6,"words":156},"filePathRelative":"04-HashiCorp/03-Terraform/04-TroubleShooting/NotAllowAdminUsername.md","localizedDate":"2021년 9월 24일","excerpt":"\\n<table>\\n<thead>\\n<tr>\\n<th>Log</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>Error : compute.VirtualMachinesClient#CreateOrUpdate: Failure sending request: StatusCode=400 – Original Error: Code=“InvalidParameter” Message=“The Admin Username specified is not allowed.” Target=\\"adminUsername\\"</td>\\n</tr>\\n</tbody>\\n</table>"}');export{d as comp,m as data};
