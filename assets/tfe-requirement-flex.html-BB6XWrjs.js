import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as r,c as t,h as i}from"./app-DVMlqOhY.js";const l={},a=i('<h1 id="terraform-enterprise-requirements-flexible-deployment" tabindex="-1"><a class="header-anchor" href="#terraform-enterprise-requirements-flexible-deployment"><span>Terraform Enterprise Requirements - Flexible Deployment</span></a></h1><blockquote><p><a href="https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install" target="_blank" rel="noopener noreferrer">https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install</a></p></blockquote><blockquote><p>v202406-1 기준</p></blockquote><h2 id="_1-license-file" tabindex="-1"><a class="header-anchor" href="#_1-license-file"><span>1. License File</span></a></h2><ul><li>Terraform Enterprise Image 다운받기위한 인증용도로 사용 <ul><li><a href="http://images.registry.hashicorp.com" target="_blank" rel="noopener noreferrer">images.registry.hashicorp.com</a></li></ul></li><li>Terraform Enterprise 프로세스(컨테이너)를 실행할 때 사용</li><li>환경변수로 선언하는 경우 <ul><li>옵션1) <code>TFE_LICENSE</code>에 라이선스의 평문 내용을 설정</li><li>옵션2) <code>TFE_LICENSE_PATH</code>에 라이선스 파일 경로를 설정</li></ul></li></ul><h2 id="_2-tls-certification" tabindex="-1"><a class="header-anchor" href="#_2-tls-certification"><span>2. TLS Certification</span></a></h2><p>Terraform Enterprise는 TLS 인증서와 Private key가 필요합니다.</p><ul><li>인증서는 X.509 형식</li><li>인증서와 키는 PEM(base64) 인코딩 형태</li><li>Terraform Enteprise를 위한 FQDN (<a href="http://tfe.example.com" target="_blank" rel="noopener noreferrer">tfe.example.com</a>)에 대해 발생되거나, 와일드카드(*.example.com)로 발급되어야 하며, Terraform Enterprise가 설치되는 호스트 이름과 일치해야 합니다.</li><li>인증서는 공인, 사설 모두 사용할 수 있지만 Terraform Enterprise와 연계될 것으로 예상되는 모든 서비스에서 신뢰여부를 확인하게 됩니다. <ul><li>VCS, CICD, API 호출 도구, Slack 등</li></ul></li><li>CN(Common Name), DN(Domain Names) 모두에서 SAN(Subject Alternative Name)을 사용하는지 확인</li></ul><h2 id="_3-실행-환경" tabindex="-1"><a class="header-anchor" href="#_3-실행-환경"><span>3. 실행 환경</span></a></h2><ul><li>Docker <ul><li>Any Linux</li><li>23.0.x ~ 26.1.x</li></ul></li><li>Podman <ul><li>RHEL 8+</li><li>4.3.0 ~</li></ul></li><li>Kubernetes <ul><li>EKS, AKS, GKE, OpenShift(beta)</li></ul></li><li>Nomad <ul><li>Any OS + Docker/Podman</li><li>1.5.0 ~</li></ul></li></ul><h2 id="_4-data-store" tabindex="-1"><a class="header-anchor" href="#_4-data-store"><span>4. Data Store</span></a></h2><h3 id="_4-1-disk" tabindex="-1"><a class="header-anchor" href="#_4-1-disk"><span>4.1 Disk</span></a></h3><p>설치 환경을 위한 최소 40GB이상의 디스크를 요구합니다.</p><ul><li>물리 디스크</li><li>AWS EBS</li><li>GCP Zonal Persistent Disk</li><li>Azure Disk Storage</li><li>iSCSI</li><li>SAN</li></ul><h3 id="_4-2-postgresql" tabindex="-1"><a class="header-anchor" href="#_4-2-postgresql"><span>4.2 PostgreSQL</span></a></h3><p>Active/Active 또는 외부 저장소로서 연결에 사용됩니다.</p><p>Terraform Enterprise의 애플리케이션 데이터, 워크스페이스 설정, 사용자 및 그룹 설정, Run 실행 정보가 저장됩니다.</p><ul><li>설치형 PostgreSQL 및 AWS RDS, Azure DB, GCP SQL의 관리형 PostgreSQL을 지원</li><li>12.x, 13.x, 14.4+, 15.x</li></ul><h3 id="_4-3-object-storage" tabindex="-1"><a class="header-anchor" href="#_4-3-object-storage"><span>4.3 Object Storage</span></a></h3><p>Active/Active 또는 외부 저장소로서 연결에 사용됩니다.</p><p>State 파일, 실행 계획 파일, 실행 로그, 구성 버전의 내용이 저장됩니다.</p><ul><li>AWS S3, Azure Blob Storage, Google Cloud Storage, MinIO 등과 같은 S3 호환 Object Storage를 지원</li></ul><h3 id="_4-4-redis" tabindex="-1"><a class="header-anchor" href="#_4-4-redis"><span>4.4 Redis</span></a></h3><p>Active/Active 또는 외부 저장소로서 연결에 사용됩니다.</p><p>데이터 캐싱용으로 사용됩니다.</p><ul><li>설치형 Redis, AWs ElastiCache, Azure Cache, Google cloud Memorystore 같은 관리형 Redis를 지원</li><li>6.x, 7.x(권장)</li><li>Redis 클러스터 모드는 미지원</li></ul><h3 id="_4-5-hashicorp-vault-옵션" tabindex="-1"><a class="header-anchor" href="#_4-5-hashicorp-vault-옵션"><span>4.5 HashiCorp Vault (옵션)</span></a></h3><p><code>Object Storage</code>내의 파일 객체를 암호화하고 해독하는 암호화 키를 관리합니다. Vault가 없는 경우 키는 PostgreSQL에 저장됩니다.</p><h2 id="_5-network" tabindex="-1"><a class="header-anchor" href="#_5-network"><span>5. Network</span></a></h2><h3 id="_5-1-ingress" tabindex="-1"><a class="header-anchor" href="#_5-1-ingress"><span>5.1 Ingress</span></a></h3><table><thead><tr><th>정의</th><th>기본 포트</th><th>용도</th></tr></thead><tbody><tr><td>TFE_HTTP_PORT</td><td>80</td><td>HTTPS로 리다이렉션</td></tr><tr><td>TFE_HTTPS_PORT</td><td>443</td><td>Terraform Enterprise에 대한 모든 API 및 UI 요청</td></tr><tr><td>TFE_METRICS_HTTP_PORT</td><td>9090</td><td>메트릭 측정을 위한 HTTP 포트</td></tr><tr><td>TFE_METRICS_HTTPS_PORT</td><td>9091</td><td>메트릭 측정을 위한 HTTPS 포트</td></tr></tbody></table><ul><li>메트릭 측정을 위한 포트는 <code>TFE_METRICS_ENABLE</code> 설정으로 활성/비활성 가능합니다.</li></ul><h3 id="_5-2-egress" tabindex="-1"><a class="header-anchor" href="#_5-2-egress"><span>5.2 Egress</span></a></h3><p>Terraform의 원활한 업데이트 및 프로바이더 사용을 위한 목적지 입니다.</p><h4 id="_5-2-1-hashicorp-container-registry" tabindex="-1"><a class="header-anchor" href="#_5-2-1-hashicorp-container-registry"><span>5.2.1 HashiCorp container registry</span></a></h4><ul><li><a href="https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install/requirements/network#https-images-releases-hashicorp-com" target="_blank" rel="noopener noreferrer"><code>https://images.releases.hashicorp.com</code></a>: Terraform Enterprise의 설치 이미지 및 Run 실행을 위한 Terraform Agent 이미지 저장소</li><li><a href="https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install/requirements/network#https-helm-releases-hashicorp-com" target="_blank" rel="noopener noreferrer"><code>https://helm.releases.hashicorp.com</code></a>: Kubernetes에 설치하는 경우 Helm 차트를 제공하는 저장소</li></ul><h4 id="_5-2-2-hashicorp-service-apis" tabindex="-1"><a class="header-anchor" href="#_5-2-2-hashicorp-service-apis"><span>5.2.2 HashiCorp Service APIs</span></a></h4><ul><li><a href="https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install/requirements/network#registry-terraform-io" target="_blank" rel="noopener noreferrer"><code>registry.terraform.io</code></a> : 프로바이더를 제공하는 저장소</li><li><a href="https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install/requirements/network#releases-hashicorp-com" target="_blank" rel="noopener noreferrer"><code>releases.hashicorp.com</code></a> : Terraform 바이너리를 제공하는 저장소</li><li><a href="https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install/requirements/network#https-yy0ffni7mf-dsn-algolia-net" target="_blank" rel="noopener noreferrer"><code>https://yy0ffni7mf-dsn.algolia.net/</code></a> - 테라폼 레지스트리의 <a href="https://www.algolia.com/" target="_blank" rel="noopener noreferrer">Algolia</a> 애플리케이션의 API 엔드포인트로, 레지스트리의 현재 리소스를 색인하고 TFE의 공개 검색 기능을 구동하는 데 사용됩니다.</li></ul><h4 id="_5-2-3-cost-estimation-apis" tabindex="-1"><a class="header-anchor" href="#_5-2-3-cost-estimation-apis"><span>5.2.3 Cost Estimation APIs</span></a></h4><p>Terraform Enterprise내의 AWS/Azure/GCP의 비용 계산 옵션을 활성화 하는 경우 다음의 API를 호출합니다.</p><ul><li><a href="https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install/requirements/network#api-pricing-us-east-1-amazonaws-com" target="_blank" rel="noopener noreferrer"><code>api.pricing.us-east-1.amazonaws.com</code></a></li><li><a href="https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install/requirements/network#cloudbilling-googleapis-com" target="_blank" rel="noopener noreferrer"><code>cloudbilling.googleapis.com</code></a></li><li><a href="https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install/requirements/network#prices-azure-com" target="_blank" rel="noopener noreferrer"><code>prices.azure.com</code></a></li></ul><h4 id="_5-2-4-기타-연계-서비스" tabindex="-1"><a class="header-anchor" href="#_5-2-4-기타-연계-서비스"><span>5.2.4 기타 연계 서비스</span></a></h4><ul><li>VCS</li><li>SAML 연동을 위한 IDP(ADFS, Okta 등)</li><li>Terraform에서 연계하는 프로바이더 제공자의 API</li></ul>',43),o=[a];function s(n,p){return r(),t("div",null,o)}const d=e(l,[["render",s],["__file","tfe-requirement-flex.html.vue"]]),m=JSON.parse('{"path":"/04-HashiCorp/03-Terraform/06-TerraformEnterprise/tfe-requirement-flex.html","title":"Terraform Enterprise Requirements - Flexible Deployment","lang":"ko-KR","frontmatter":{"description":"Terraform Enterprise 설치 요구사항 정리","tag":["Terraform","Enterprise","tfe"],"head":[["meta",{"property":"og:url","content":"https://docmoa.github.io/04-HashiCorp/03-Terraform/06-TerraformEnterprise/tfe-requirement-flex.html"}],["meta",{"property":"og:site_name","content":"docmoa"}],["meta",{"property":"og:title","content":"Terraform Enterprise Requirements - Flexible Deployment"}],["meta",{"property":"og:description","content":"Terraform Enterprise 설치 요구사항 정리"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2024-06-26T00:58:39.000Z"}],["meta",{"property":"article:tag","content":"Terraform"}],["meta",{"property":"article:tag","content":"Enterprise"}],["meta",{"property":"article:tag","content":"tfe"}],["meta",{"property":"article:modified_time","content":"2024-06-26T00:58:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Terraform Enterprise Requirements - Flexible Deployment\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-26T00:58:39.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"1. License File","slug":"_1-license-file","link":"#_1-license-file","children":[]},{"level":2,"title":"2. TLS Certification","slug":"_2-tls-certification","link":"#_2-tls-certification","children":[]},{"level":2,"title":"3. 실행 환경","slug":"_3-실행-환경","link":"#_3-실행-환경","children":[]},{"level":2,"title":"4. Data Store","slug":"_4-data-store","link":"#_4-data-store","children":[{"level":3,"title":"4.1 Disk","slug":"_4-1-disk","link":"#_4-1-disk","children":[]},{"level":3,"title":"4.2 PostgreSQL","slug":"_4-2-postgresql","link":"#_4-2-postgresql","children":[]},{"level":3,"title":"4.3 Object Storage","slug":"_4-3-object-storage","link":"#_4-3-object-storage","children":[]},{"level":3,"title":"4.4 Redis","slug":"_4-4-redis","link":"#_4-4-redis","children":[]},{"level":3,"title":"4.5 HashiCorp Vault (옵션)","slug":"_4-5-hashicorp-vault-옵션","link":"#_4-5-hashicorp-vault-옵션","children":[]}]},{"level":2,"title":"5. Network","slug":"_5-network","link":"#_5-network","children":[{"level":3,"title":"5.1 Ingress","slug":"_5-1-ingress","link":"#_5-1-ingress","children":[]},{"level":3,"title":"5.2 Egress","slug":"_5-2-egress","link":"#_5-2-egress","children":[]}]}],"git":{"createdTime":1719363519000,"updatedTime":1719363519000,"contributors":[{"name":"Great-Stone","email":"hahohh@gmail.com","commits":1}]},"readingTime":{"minutes":5.13,"words":308},"filePathRelative":"04-HashiCorp/03-Terraform/06-TerraformEnterprise/tfe-requirement-flex.md","localizedDate":"2024년 6월 26일","excerpt":"\\n<blockquote>\\n<p><a href=\\"https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://developer.hashicorp.com/terraform/enterprise/flexible-deployments/install</a></p>\\n</blockquote>\\n<blockquote>\\n<p>v202406-1 기준</p>\\n</blockquote>"}');export{d as comp,m as data};
